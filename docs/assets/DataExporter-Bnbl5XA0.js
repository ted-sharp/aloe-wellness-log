import{j as e}from"./ui-vendor-BuGzxEnB.js";import{a as t}from"./react-vendor-9hcqHTTy.js";import{g as a,d as r,e as s,f as n,h as i,B as o,j as d}from"./index-DZ26_b9d.js";import"./icons-vendor-BLJDdPqg.js";import"./dnd-vendor-B-r8cpST.js";import"./state-vendor-CZRBIdKG.js";const l=t.memo(function({onStatusChange:l}){const c=t.useCallback(async()=>{try{null==l||l("データをエクスポート中...");const[t,i,o,d]=await Promise.all([a(),r(),s(),n()]),c={weightRecords:t,bpRecords:i,dailyRecords:o,dailyFields:d},m=JSON.stringify(c,null,2),g=new Blob([m],{type:"application/json"}),x=URL.createObjectURL(g),j=document.createElement("a");j.href=x,j.download=`records-v2-${e=new Date,`${e.getFullYear()}${String(e.getMonth()+1).padStart(2,"0")}${String(e.getDate()).padStart(2,"0")}${String(e.getHours()).padStart(2,"0")}${String(e.getMinutes()).padStart(2,"0")}${String(e.getSeconds()).padStart(2,"0")}`}.json`,j.click(),URL.revokeObjectURL(x),null==l||l("JSONエクスポートが完了しました")}catch(t){null==l||l(`エクスポートエラー: ${t instanceof Error?t.message:"Unknown error"}`)}var e},[l]);return e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow p-6",children:[e.jsxs("h2",{className:"text-xl font-bold mb-4 text-gray-700 dark:text-gray-200 flex items-center gap-2 justify-center",children:[e.jsx(i,{className:"w-6 h-6"}),"データエクスポート"]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400 mb-4 flex justify-center",children:e.jsx("div",{className:"text-left max-w-md",children:e.jsx("p",{children:"記録したデータをファイルとしてダウンロードできます。"})})}),e.jsx("div",{className:"flex flex-wrap gap-2 justify-center",children:e.jsx(o,{variant:"primary",icon:d,onClick:c,children:"JSON形式でエクスポート"})})]})]})});export{l as default};
