import{j as e}from"./ui-vendor-Bpjs_4Uy.js";import{a as t}from"./react-vendor-9hcqHTTy.js";import{g as a,d as r,e as s,f as n,h as i,B as d,j as l}from"./index-DiNO0sBy.js";import"./icons-vendor-BLJDdPqg.js";import"./dnd-vendor-B-r8cpST.js";import"./state-vendor-CZRBIdKG.js";const c=t.memo(function({onStatusChange:c}){const o=t.useCallback(async()=>{try{null==c||c("データをエクスポート中...");const[t,i,d,l]=await Promise.all([a(),r(),s(),n()]),o={weightRecords:t,bpRecords:i,dailyRecords:d,dailyFields:l},x=JSON.stringify(o,null,2),m=new Blob([x],{type:"application/json"}),g=URL.createObjectURL(m),j=document.createElement("a");j.href=g,j.download=`records-v2-${e=new Date,`${e.getFullYear()}${String(e.getMonth()+1).padStart(2,"0")}${String(e.getDate()).padStart(2,"0")}${String(e.getHours()).padStart(2,"0")}${String(e.getMinutes()).padStart(2,"0")}${String(e.getSeconds()).padStart(2,"0")}`}.json`,j.click(),URL.revokeObjectURL(g),null==c||c("JSONエクスポートが完了しました")}catch(t){null==c||c(`エクスポートエラー: ${t instanceof Error?t.message:"Unknown error"}`)}var e},[c]);return e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow p-6",children:[e.jsxs("h2",{className:"text-xl font-bold mb-4 text-gray-700 dark:text-gray-200 flex items-center gap-2 justify-center",children:[e.jsx(i,{className:"w-6 h-6"}),"データエクスポート"]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400 mb-4 flex justify-center",children:e.jsx("div",{className:"text-left max-w-md",children:e.jsx("p",{children:"記録したデータをファイルとしてダウンロードできます。"})})}),e.jsx("div",{className:"flex flex-wrap gap-2 justify-center",children:e.jsx(d,{variant:"primary",icon:l,onClick:o,children:"JSON形式でエクスポート"})}),e.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:e.jsx("p",{children:"• JSON形式: アプリに再インポートできる形式"})})]})]})});export{c as default};
