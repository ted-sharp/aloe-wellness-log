const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/RecordInput-aBLYp-XW.js","assets/ui-vendor-D7AUAfXm.js","assets/react-vendor-BzNAZZ5j.js","assets/dnd-vendor-BBd399mu.js","assets/icons-vendor-DoCnAwwa.js","assets/state-vendor-O6FgWrPy.js","assets/RecordList-YCIivQC9.js","assets/RecordGraph-wbnK_Nkb.js","assets/RecordCalendar-BgtNzK0k.js","assets/RecordCalendar-Cb74IefQ.css","assets/RecordExport-C9xslZAa.js"])))=>i.map(i=>d[i]);
var e=Object.defineProperty,t=(t,r,a)=>((t,r,a)=>r in t?e(t,r,{enumerable:!0,configurable:!0,writable:!0,value:a}):t[r]=a)(t,"symbol"!=typeof r?r+"":r,a);import{j as r,r as a}from"./ui-vendor-D7AUAfXm.js";import{d as n,a as o,r as i,g as s,B as l,e as d,f as c,N as u,u as h,L as p}from"./react-vendor-BzNAZZ5j.js";import{G as g}from"./icons-vendor-DoCnAwwa.js";import{c as f}from"./state-vendor-O6FgWrPy.js";!function(){const e=document.createElement("link").relList;if(!(e&&e.supports&&e.supports("modulepreload"))){for(const e of document.querySelectorAll('link[rel="modulepreload"]'))t(e);new MutationObserver(e=>{for(const r of e)if("childList"===r.type)for(const e of r.addedNodes)"LINK"===e.tagName&&"modulepreload"===e.rel&&t(e)}).observe(document,{childList:!0,subtree:!0})}function t(e){if(e.ep)return;e.ep=!0;const t=function(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerPolicy&&(t.referrerPolicy=e.referrerPolicy),"use-credentials"===e.crossOrigin?t.credentials="include":"anonymous"===e.crossOrigin?t.credentials="omit":t.credentials="same-origin",t}(e);fetch(e.href,t)}}();var m,v={};var y=function(){if(m)return v;m=1;var e=n();return v.createRoot=e.createRoot,v.hydrateRoot=e.hydrateRoot,v}();const b={},x=function(e,t,r){let a=Promise.resolve();if(t&&t.length>0){let e=function(e){return Promise.all(e.map(e=>Promise.resolve(e).then(e=>({status:"fulfilled",value:e}),e=>({status:"rejected",reason:e}))))};document.getElementsByTagName("link");const r=document.querySelector("meta[property=csp-nonce]"),n=(null==r?void 0:r.nonce)||(null==r?void 0:r.getAttribute("nonce"));a=e(t.map(e=>{if((e=function(e){return"/aloe-wellness-log/"+e}(e))in b)return;b[e]=!0;const t=e.endsWith(".css"),r=t?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${e}"]${r}`))return;const a=document.createElement("link");return a.rel=t?"stylesheet":"modulepreload",t||(a.as="script"),a.crossOrigin="",a.href=e,n&&a.setAttribute("nonce",n),document.head.appendChild(a),t?new Promise((t,r)=>{a.addEventListener("load",t),a.addEventListener("error",()=>r(new Error(`Unable to preload CSS for ${e}`)))}):void 0}))}function n(e){const t=new Event("vite:preloadError",{cancelable:!0});if(t.payload=e,window.dispatchEvent(t),!t.defaultPrevented)throw e}return a.then(t=>{for(const e of t||[])"rejected"===e.status&&n(e.reason);return e().catch(n)})};function w(e){return g({attr:{viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M12 2.25a.75.75 0 0 1 .75.75v11.69l3.22-3.22a.75.75 0 1 1 1.06 1.06l-4.5 4.5a.75.75 0 0 1-1.06 0l-4.5-4.5a.75.75 0 1 1 1.06-1.06l3.22 3.22V3a.75.75 0 0 1 .75-.75Zm-9 13.5a.75.75 0 0 1 .75.75v2.25a1.5 1.5 0 0 0 1.5 1.5h13.5a1.5 1.5 0 0 0 1.5-1.5V16.5a.75.75 0 0 1 1.5 0v2.25a3 3 0 0 1-3 3H5.25a3 3 0 0 1-3-3V16.5a.75.75 0 0 1 .75-.75Z",clipRule:"evenodd"},child:[]}]})(e)}function N(e){return g({attr:{viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M11.03 3.97a.75.75 0 0 1 0 1.06l-6.22 6.22H21a.75.75 0 0 1 0 1.5H4.81l6.22 6.22a.75.75 0 1 1-1.06 1.06l-7.5-7.5a.75.75 0 0 1 0-1.06l7.5-7.5a.75.75 0 0 1 1.06 0Z",clipRule:"evenodd"},child:[]}]})(e)}function k(e){return g({attr:{viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M4.755 10.059a7.5 7.5 0 0 1 12.548-3.364l1.903 1.903h-3.183a.75.75 0 1 0 0 1.5h4.992a.75.75 0 0 0 .75-.75V4.356a.75.75 0 0 0-1.5 0v3.18l-1.9-1.9A9 9 0 0 0 3.306 9.67a.75.75 0 1 0 1.45.388Zm15.408 3.352a.75.75 0 0 0-.919.53 7.5 7.5 0 0 1-12.548 3.364l-1.902-1.903h3.183a.75.75 0 0 0 0-1.5H2.984a.75.75 0 0 0-.75.75v4.992a.75.75 0 0 0 1.5 0v-3.18l1.9 1.9a9 9 0 0 0 15.059-4.035.75.75 0 0 0-.53-.918Z",clipRule:"evenodd"},child:[]}]})(e)}function S(e){return g({attr:{viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M6.97 2.47a.75.75 0 0 1 1.06 0l4.5 4.5a.75.75 0 0 1-1.06 1.06L8.25 4.81V16.5a.75.75 0 0 1-1.5 0V4.81L3.53 8.03a.75.75 0 0 1-1.06-1.06l4.5-4.5Zm9.53 4.28a.75.75 0 0 1 .75.75v11.69l3.22-3.22a.75.75 0 1 1 1.06 1.06l-4.5 4.5a.75.75 0 0 1-1.06 0l-4.5-4.5a.75.75 0 1 1 1.06-1.06l3.22 3.22V7.5a.75.75 0 0 1 .75-.75Z",clipRule:"evenodd"},child:[]}]})(e)}function C(e){return g({attr:{viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M3 6.75A.75.75 0 0 1 3.75 6h16.5a.75.75 0 0 1 0 1.5H3.75A.75.75 0 0 1 3 6.75ZM3 12a.75.75 0 0 1 .75-.75h16.5a.75.75 0 0 1 0 1.5H3.75A.75.75 0 0 1 3 12Zm0 5.25a.75.75 0 0 1 .75-.75h16.5a.75.75 0 0 1 0 1.5H3.75a.75.75 0 0 1-.75-.75Z",clipRule:"evenodd"},child:[]}]})(e)}function D(e){return g({attr:{viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{d:"M12.75 12.75a.75.75 0 1 1-1.5 0 .75.75 0 0 1 1.5 0ZM7.5 15.75a.75.75 0 1 0 0-1.5.75.75 0 0 0 0 1.5ZM8.25 17.25a.75.75 0 1 1-1.5 0 .75.75 0 0 1 1.5 0ZM9.75 15.75a.75.75 0 1 0 0-1.5.75.75 0 0 0 0 1.5ZM10.5 17.25a.75.75 0 1 1-1.5 0 .75.75 0 0 1 1.5 0ZM12 15.75a.75.75 0 1 0 0-1.5.75.75 0 0 0 0 1.5ZM12.75 17.25a.75.75 0 1 1-1.5 0 .75.75 0 0 1 1.5 0ZM14.25 15.75a.75.75 0 1 0 0-1.5.75.75 0 0 0 0 1.5ZM15 17.25a.75.75 0 1 1-1.5 0 .75.75 0 0 1 1.5 0ZM16.5 15.75a.75.75 0 1 0 0-1.5.75.75 0 0 0 0 1.5ZM15 12.75a.75.75 0 1 1-1.5 0 .75.75 0 0 1 1.5 0ZM16.5 13.5a.75.75 0 1 0 0-1.5.75.75 0 0 0 0 1.5Z"},child:[]},{tag:"path",attr:{fillRule:"evenodd",d:"M6.75 2.25A.75.75 0 0 1 7.5 3v1.5h9V3A.75.75 0 0 1 18 3v1.5h.75a3 3 0 0 1 3 3v11.25a3 3 0 0 1-3 3H5.25a3 3 0 0 1-3-3V7.5a3 3 0 0 1 3-3H6V3a.75.75 0 0 1 .75-.75Zm13.5 9a1.5 1.5 0 0 0-1.5-1.5H5.25a1.5 1.5 0 0 0-1.5 1.5v7.5a1.5 1.5 0 0 0 1.5 1.5h13.5a1.5 1.5 0 0 0 1.5-1.5v-7.5Z",clipRule:"evenodd"},child:[]}]})(e)}function L(e){return g({attr:{viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M3 6a3 3 0 0 1 3-3h12a3 3 0 0 1 3 3v12a3 3 0 0 1-3 3H6a3 3 0 0 1-3-3V6Zm4.5 7.5a.75.75 0 0 1 .75.75v2.25a.75.75 0 0 1-1.5 0v-2.25a.75.75 0 0 1 .75-.75Zm3.75-1.5a.75.75 0 0 0-1.5 0v4.5a.75.75 0 0 0 1.5 0V12Zm2.25-3a.75.75 0 0 1 .75.75v6.75a.75.75 0 0 1-1.5 0V9.75A.75.75 0 0 1 13.5 9Zm3.75-1.5a.75.75 0 0 0-1.5 0v9a.75.75 0 0 0 1.5 0v-9Z",clipRule:"evenodd"},child:[]}]})(e)}function E(e){return g({attr:{viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M2.25 12c0-5.385 4.365-9.75 9.75-9.75s9.75 4.365 9.75 9.75-4.365 9.75-9.75 9.75S2.25 17.385 2.25 12Zm13.36-1.814a.75.75 0 1 0-1.22-.872l-3.236 4.53L9.53 12.22a.75.75 0 0 0-1.06 1.06l2.25 2.25a.75.75 0 0 0 1.14-.094l3.75-5.25Z",clipRule:"evenodd"},child:[]}]})(e)}function j(e){return g({attr:{viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M10.72 11.47a.75.75 0 0 0 0 1.06l7.5 7.5a.75.75 0 1 0 1.06-1.06L12.31 12l6.97-6.97a.75.75 0 0 0-1.06-1.06l-7.5 7.5Z",clipRule:"evenodd"},child:[]},{tag:"path",attr:{fillRule:"evenodd",d:"M4.72 11.47a.75.75 0 0 0 0 1.06l7.5 7.5a.75.75 0 1 0 1.06-1.06L6.31 12l6.97-6.97a.75.75 0 0 0-1.06-1.06l-7.5 7.5Z",clipRule:"evenodd"},child:[]}]})(e)}function O(e){return g({attr:{viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M13.28 11.47a.75.75 0 0 1 0 1.06l-7.5 7.5a.75.75 0 0 1-1.06-1.06L11.69 12 4.72 5.03a.75.75 0 0 1 1.06-1.06l7.5 7.5Z",clipRule:"evenodd"},child:[]},{tag:"path",attr:{fillRule:"evenodd",d:"M19.28 11.47a.75.75 0 0 1 0 1.06l-7.5 7.5a.75.75 0 1 1-1.06-1.06L17.69 12l-6.97-6.97a.75.75 0 0 1 1.06-1.06l7.5 7.5Z",clipRule:"evenodd"},child:[]}]})(e)}function R(e){return g({attr:{viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M12.53 16.28a.75.75 0 0 1-1.06 0l-7.5-7.5a.75.75 0 0 1 1.06-1.06L12 14.69l6.97-6.97a.75.75 0 1 1 1.06 1.06l-7.5 7.5Z",clipRule:"evenodd"},child:[]}]})(e)}function T(e){return g({attr:{viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M7.72 12.53a.75.75 0 0 1 0-1.06l7.5-7.5a.75.75 0 1 1 1.06 1.06L9.31 12l6.97 6.97a.75.75 0 1 1-1.06 1.06l-7.5-7.5Z",clipRule:"evenodd"},child:[]}]})(e)}function A(e){return g({attr:{viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M16.28 11.47a.75.75 0 0 1 0 1.06l-7.5 7.5a.75.75 0 0 1-1.06-1.06L14.69 12 7.72 5.03a.75.75 0 0 1 1.06-1.06l7.5 7.5Z",clipRule:"evenodd"},child:[]}]})(e)}function P(e){return g({attr:{viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M7.502 6h7.128A3.375 3.375 0 0 1 18 9.375v9.375a3 3 0 0 0 3-3V6.108c0-1.505-1.125-2.811-2.664-2.94a48.972 48.972 0 0 0-.673-.05A3 3 0 0 0 15 1.5h-1.5a3 3 0 0 0-2.663 1.618c-.225.015-.45.032-.673.05C8.662 3.295 7.554 4.542 7.502 6ZM13.5 3A1.5 1.5 0 0 0 12 4.5h4.5A1.5 1.5 0 0 0 15 3h-1.5Z",clipRule:"evenodd"},child:[]},{tag:"path",attr:{fillRule:"evenodd",d:"M3 9.375C3 8.339 3.84 7.5 4.875 7.5h9.75c1.036 0 1.875.84 1.875 1.875v11.25c0 1.035-.84 1.875-1.875 1.875h-9.75A1.875 1.875 0 0 1 3 20.625V9.375ZM6 12a.75.75 0 0 1 .75-.75h.008a.75.75 0 0 1 .75.75v.008a.75.75 0 0 1-.75.75H6.75a.75.75 0 0 1-.75-.75V12Zm2.25 0a.75.75 0 0 1 .75-.75h3.75a.75.75 0 0 1 0 1.5H9a.75.75 0 0 1-.75-.75ZM6 15a.75.75 0 0 1 .75-.75h.008a.75.75 0 0 1 .75.75v.008a.75.75 0 0 1-.75.75H6.75a.75.75 0 0 1-.75-.75V15Zm2.25 0a.75.75 0 0 1 .75-.75h3.75a.75.75 0 0 1 0 1.5H9a.75.75 0 0 1-.75-.75ZM6 18a.75.75 0 0 1 .75-.75h.008a.75.75 0 0 1 .75.75v.008a.75.75 0 0 1-.75.75H6.75a.75.75 0 0 1-.75-.75V18Zm2.25 0a.75.75 0 0 1 .75-.75h3.75a.75.75 0 0 1 0 1.5H9a.75.75 0 0 1-.75-.75Z",clipRule:"evenodd"},child:[]}]})(e)}function M(e){return g({attr:{viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M12 2.25c-5.385 0-9.75 4.365-9.75 9.75s4.365 9.75 9.75 9.75 9.75-4.365 9.75-9.75S17.385 2.25 12 2.25ZM12.75 6a.75.75 0 0 0-1.5 0v6c0 .414.336.75.75.75h4.5a.75.75 0 0 0 0-1.5h-3.75V6Z",clipRule:"evenodd"},child:[]}]})(e)}function I(e){return g({attr:{viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M5.625 1.5c-1.036 0-1.875.84-1.875 1.875v17.25c0 1.035.84 1.875 1.875 1.875h12.75c1.035 0 1.875-.84 1.875-1.875V12.75A3.75 3.75 0 0 0 16.5 9h-1.875a1.875 1.875 0 0 1-1.875-1.875V5.25A3.75 3.75 0 0 0 9 1.5H5.625ZM7.5 15a.75.75 0 0 1 .75-.75h7.5a.75.75 0 0 1 0 1.5h-7.5A.75.75 0 0 1 7.5 15Zm.75 2.25a.75.75 0 0 0 0 1.5H12a.75.75 0 0 0 0-1.5H8.25Z",clipRule:"evenodd"},child:[]},{tag:"path",attr:{d:"M12.971 1.816A5.23 5.23 0 0 1 14.25 5.25v1.875c0 .207.168.375.375.375H16.5a5.23 5.23 0 0 1 3.434 1.279 9.768 9.768 0 0 0-6.963-6.963Z"},child:[]}]})(e)}function F(e){return g({attr:{viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{d:"M5.625 1.5c-1.036 0-1.875.84-1.875 1.875v17.25c0 1.035.84 1.875 1.875 1.875h12.75c1.035 0 1.875-.84 1.875-1.875V12.75A3.75 3.75 0 0 0 16.5 9h-1.875a1.875 1.875 0 0 1-1.875-1.875V5.25A3.75 3.75 0 0 0 9 1.5H5.625Z"},child:[]},{tag:"path",attr:{d:"M12.971 1.816A5.23 5.23 0 0 1 14.25 5.25v1.875c0 .207.168.375.375.375H16.5a5.23 5.23 0 0 1 3.434 1.279 9.768 9.768 0 0 0-6.963-6.963Z"},child:[]}]})(e)}function $(e){return g({attr:{viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003ZM12 8.25a.75.75 0 0 1 .75.75v3.75a.75.75 0 0 1-1.5 0V9a.75.75 0 0 1 .75-.75Zm0 8.25a.75.75 0 1 0 0-1.5.75.75 0 0 0 0 1.5Z",clipRule:"evenodd"},child:[]}]})(e)}function B(e){return g({attr:{viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{d:"M3.53 2.47a.75.75 0 0 0-1.06 1.06l18 18a.75.75 0 1 0 1.06-1.06l-18-18ZM22.676 12.553a11.249 11.249 0 0 1-2.631 4.31l-3.099-3.099a5.25 5.25 0 0 0-6.71-6.71L7.759 4.577a11.217 11.217 0 0 1 4.242-.827c4.97 0 9.185 3.223 10.675 7.69.12.362.12.752 0 1.113Z"},child:[]},{tag:"path",attr:{d:"M15.75 12c0 .18-.013.357-.037.53l-4.244-4.243A3.75 3.75 0 0 1 15.75 12ZM12.53 15.713l-4.243-4.244a3.75 3.75 0 0 0 4.244 4.243Z"},child:[]},{tag:"path",attr:{d:"M6.75 12c0-.619.107-1.213.304-1.764l-3.1-3.1a11.25 11.25 0 0 0-2.63 4.31c-.12.362-.12.752 0 1.114 1.489 4.467 5.704 7.69 10.675 7.69 1.5 0 2.933-.294 4.242-.827l-2.477-2.477A5.25 5.25 0 0 1 6.75 12Z"},child:[]}]})(e)}function V(e){return g({attr:{viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M2.25 12c0-5.385 4.365-9.75 9.75-9.75s9.75 4.365 9.75 9.75-4.365 9.75-9.75 9.75S2.25 17.385 2.25 12Zm8.706-1.442c1.146-.573 2.437.463 2.126 1.706l-.709 2.836.042-.02a.75.75 0 0 1 .67 1.34l-.04.022c-1.147.573-2.438-.463-2.127-1.706l.71-2.836-.042.02a.75.75 0 1 1-.671-1.34l.041-.022ZM12 9a.75.75 0 1 0 0-1.5.75.75 0 0 0 0 1.5Z",clipRule:"evenodd"},child:[]}]})(e)}function _(e){return g({attr:{viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M9 2.25a.75.75 0 0 1 .75.75v1.506a49.384 49.384 0 0 1 5.343.371.75.75 0 1 1-.186 1.489c-.66-.083-1.323-.151-1.99-.206a18.67 18.67 0 0 1-2.97 6.323c.318.384.65.753 1 1.107a.75.75 0 0 1-1.07 1.052A18.902 18.902 0 0 1 9 13.687a18.823 18.823 0 0 1-5.656 4.482.75.75 0 0 1-.688-1.333 17.323 17.323 0 0 0 5.396-4.353A18.72 18.72 0 0 1 5.89 8.598a.75.75 0 0 1 1.388-.568A17.21 17.21 0 0 0 9 11.224a17.168 17.168 0 0 0 2.391-5.165 48.04 48.04 0 0 0-8.298.307.75.75 0 0 1-.186-1.489 49.159 49.159 0 0 1 5.343-.371V3A.75.75 0 0 1 9 2.25ZM15.75 9a.75.75 0 0 1 .68.433l5.25 11.25a.75.75 0 1 1-1.36.634l-1.198-2.567h-6.744l-1.198 2.567a.75.75 0 0 1-1.36-.634l5.25-11.25A.75.75 0 0 1 15.75 9Zm-2.672 8.25h5.344l-2.672-5.726-2.672 5.726Z",clipRule:"evenodd"},child:[]}]})(e)}function H(e){return g({attr:{viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{d:"M21.731 2.269a2.625 2.625 0 0 0-3.712 0l-1.157 1.157 3.712 3.712 1.157-1.157a2.625 2.625 0 0 0 0-3.712ZM19.513 8.199l-3.712-3.712-12.15 12.15a5.25 5.25 0 0 0-1.32 2.214l-.8 2.685a.75.75 0 0 0 .933.933l2.685-.8a5.25 5.25 0 0 0 2.214-1.32L19.513 8.2Z"},child:[]}]})(e)}function U(e){return g({attr:{viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M12 3.75a.75.75 0 0 1 .75.75v6.75h6.75a.75.75 0 0 1 0 1.5h-6.75v6.75a.75.75 0 0 1-1.5 0v-6.75H4.5a.75.75 0 0 1 0-1.5h6.75V4.5a.75.75 0 0 1 .75-.75Z",clipRule:"evenodd"},child:[]}]})(e)}function z(e){return g({attr:{viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M9 4.5a.75.75 0 0 1 .721.544l.813 2.846a3.75 3.75 0 0 0 2.576 2.576l2.846.813a.75.75 0 0 1 0 1.442l-2.846.813a3.75 3.75 0 0 0-2.576 2.576l-.813 2.846a.75.75 0 0 1-1.442 0l-.813-2.846a3.75 3.75 0 0 0-2.576-2.576l-2.846-.813a.75.75 0 0 1 0-1.442l2.846-.813A3.75 3.75 0 0 0 7.466 7.89l.813-2.846A.75.75 0 0 1 9 4.5ZM18 1.5a.75.75 0 0 1 .728.568l.258 1.036c.236.94.97 1.674 1.91 1.91l1.036.258a.75.75 0 0 1 0 1.456l-1.036.258c-.94.236-1.674.97-1.91 1.91l-.258 1.036a.75.75 0 0 1-1.456 0l-.258-1.036a2.625 2.625 0 0 0-1.91-1.91l-1.036-.258a.75.75 0 0 1 0-1.456l1.036-.258a2.625 2.625 0 0 0 1.91-1.91l.258-1.036A.75.75 0 0 1 18 1.5ZM16.5 15a.75.75 0 0 1 .712.513l.394 1.183c.15.447.5.799.948.948l1.183.395a.75.75 0 0 1 0 1.422l-1.183.395c-.447.15-.799.5-.948.948l-.395 1.183a.75.75 0 0 1-1.422 0l-.395-1.183a1.5 1.5 0 0 0-.948-.948l-1.183-.395a.75.75 0 0 1 0-1.422l1.183-.395c.447-.15.799-.5.948-.948l.395-1.183A.75.75 0 0 1 16.5 15Z",clipRule:"evenodd"},child:[]}]})(e)}function Z(e){return g({attr:{viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M16.5 4.478v.227a48.816 48.816 0 0 1 3.878.512.75.75 0 1 1-.256 1.478l-.209-.035-1.005 13.07a3 3 0 0 1-2.991 2.77H8.084a3 3 0 0 1-2.991-2.77L4.087 6.66l-.209.035a.75.75 0 0 1-.256-1.478A48.567 48.567 0 0 1 7.5 4.705v-.227c0-1.564 1.213-2.9 2.816-2.951a52.662 52.662 0 0 1 3.369 0c1.603.051 2.815 1.387 2.815 2.951Zm-6.136-1.452a51.196 51.196 0 0 1 3.273 0C14.39 3.05 15 3.684 15 4.478v.113a49.488 49.488 0 0 0-6 0v-.113c0-.794.609-1.428 1.364-1.452Zm-.355 5.945a.75.75 0 1 0-1.5.058l.347 9a.75.75 0 1 0 1.499-.058l-.346-9Zm5.48.058a.75.75 0 1 0-1.498-.058l-.347 9a.75.75 0 0 0 1.5.058l.345-9Z",clipRule:"evenodd"},child:[]}]})(e)}function q(e){return g({attr:{viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M12 2.25c-5.385 0-9.75 4.365-9.75 9.75s4.365 9.75 9.75 9.75 9.75-4.365 9.75-9.75S17.385 2.25 12 2.25Zm-1.72 6.97a.75.75 0 1 0-1.06 1.06L10.94 12l-1.72 1.72a.75.75 0 1 0 1.06 1.06L12 13.06l1.72 1.72a.75.75 0 1 0 1.06-1.06L13.06 12l1.72-1.72a.75.75 0 1 0-1.06-1.06L12 10.94l-1.72-1.72Z",clipRule:"evenodd"},child:[]}]})(e)}function K(e){return g({attr:{viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M5.47 5.47a.75.75 0 0 1 1.06 0L12 10.94l5.47-5.47a.75.75 0 1 1 1.06 1.06L13.06 12l5.47 5.47a.75.75 0 1 1-1.06 1.06L12 13.06l-5.47 5.47a.75.75 0 0 1-1.06-1.06L10.94 12 5.47 6.53a.75.75 0 0 1 0-1.06Z",clipRule:"evenodd"},child:[]}]})(e)}class W extends o.Component{constructor(){super(...arguments),t(this,"state",{hasError:!1,error:null}),t(this,"resetError",()=>{this.setState({hasError:!1,error:null})})}static getDerivedStateFromError(e){return{hasError:!0,error:e}}componentDidCatch(e,t){}render(){return this.state.hasError?this.props.fallback?this.props.fallback(this.state.error,this.resetError):r.jsx("div",{className:"min-h-screen bg-gradient-to-br from-red-50 to-red-100 flex items-center justify-center p-4",children:r.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-8 max-w-md w-full text-center",children:[r.jsx("div",{className:"flex justify-center mb-6",children:r.jsx("div",{className:"bg-red-100 p-4 rounded-full",children:r.jsx($,{className:"w-12 h-12 text-red-600"})})}),r.jsx("h1",{className:"text-2xl font-bold text-gray-800 mb-4",children:"申し訳ございません"}),r.jsxs("p",{className:"text-gray-600 mb-6 leading-relaxed",children:["予期しないエラーが発生いたしました。",r.jsx("br",{}),"ご不便をおかけして申し訳ございませんの。"]}),this.state.error&&r.jsxs("details",{className:"text-left mb-6 bg-gray-50 p-4 rounded-lg",children:[r.jsx("summary",{className:"cursor-pointer text-gray-700 font-medium mb-2",children:"技術的な詳細（クリックで表示）"}),r.jsxs("div",{className:"text-sm text-gray-600 font-mono bg-white p-3 rounded border overflow-auto max-h-32",children:[r.jsx("p",{className:"font-semibold mb-1",children:"エラー名:"}),r.jsx("p",{className:"mb-2",children:this.state.error.name}),r.jsx("p",{className:"font-semibold mb-1",children:"エラーメッセージ:"}),r.jsx("p",{className:"mb-2",children:this.state.error.message}),this.state.error.stack&&r.jsxs(r.Fragment,{children:[r.jsx("p",{className:"font-semibold mb-1",children:"スタックトレース:"}),r.jsx("pre",{className:"text-xs whitespace-pre-wrap",children:this.state.error.stack})]})]})]}),r.jsxs("div",{className:"space-y-3",children:[r.jsxs("button",{onClick:this.resetError,className:"w-full bg-blue-600 text-white px-6 py-3 rounded-lg font-medium hover:bg-blue-700 transition-colors duration-200 flex items-center justify-center gap-2",children:[r.jsx(k,{className:"w-5 h-5"}),"もう一度試す"]}),r.jsx("button",{onClick:()=>window.location.reload(),className:"w-full bg-gray-500 text-white px-6 py-3 rounded-lg font-medium hover:bg-gray-600 transition-colors duration-200",children:"ページを再読み込み"}),r.jsx("p",{className:"text-sm text-gray-500 mt-4",children:"問題が続く場合は、ブラウザのキャッシュをクリアしてみてくださいませ。"})]})]})}):this.props.children}}class Y{constructor(){t(this,"focusStack",[])}saveFocus(){const e=document.activeElement;e&&e!==document.body&&this.focusStack.push(e)}restoreFocus(){const e=this.focusStack.pop();e&&document.contains(e)&&e.focus()}moveFocus(e,t){let r=null;return r="string"==typeof e?document.querySelector(e):e,!r&&t&&(r=document.querySelector(t)),!!r&&(r.focus(),!0)}getFocusableElements(e){const t=["button:not([disabled])","input:not([disabled])","select:not([disabled])","textarea:not([disabled])","a[href]",'[tabindex]:not([tabindex="-1"])','[contenteditable="true"]'].join(", ");return Array.from(e.querySelectorAll(t))}trapFocus(e){const t=this.getFocusableElements(e),r=t[0],a=t[t.length-1],n=e=>{"Tab"===e.key&&(e.shiftKey?document.activeElement===r&&(e.preventDefault(),null==a||a.focus()):document.activeElement===a&&(e.preventDefault(),null==r||r.focus()))};return document.addEventListener("keydown",n),null==r||r.focus(),()=>{document.removeEventListener("keydown",n)}}}class J{constructor(){t(this,"politeRegion"),t(this,"assertiveRegion"),this.politeRegion=this.createLiveRegion("polite"),this.assertiveRegion=this.createLiveRegion("assertive")}createLiveRegion(e){const t=document.createElement("div");return t.setAttribute("aria-live",e),t.setAttribute("aria-atomic","true"),t.className="sr-only",t.style.position="absolute",t.style.left="-10000px",t.style.width="1px",t.style.height="1px",t.style.overflow="hidden",document.body.appendChild(t),t}announcePolite(e){this.politeRegion.textContent=e}announceAssertive(e){this.assertiveRegion.textContent=e}cleanup(){this.politeRegion.remove(),this.assertiveRegion.remove()}}function G(e){return{handleKeyDown:o.useCallback(t=>{((e,t)=>{var r,a,n,o,i,s,l,d;switch(e.key){case"Enter":e.preventDefault(),null==(r=t.onEnter)||r.call(t);break;case"Escape":e.preventDefault(),null==(a=t.onEscape)||a.call(t);break;case"ArrowUp":e.preventDefault(),null==(n=t.onArrowUp)||n.call(t);break;case"ArrowDown":e.preventDefault(),null==(o=t.onArrowDown)||o.call(t);break;case"ArrowLeft":e.preventDefault(),null==(i=t.onArrowLeft)||i.call(t);break;case"ArrowRight":e.preventDefault(),null==(s=t.onArrowRight)||s.call(t);break;case"Tab":e.shiftKey?null==(l=t.onShiftTab)||l.call(t,e.nativeEvent):null==(d=t.onTab)||d.call(t,e.nativeEvent)}})(t,e)},[e])}}function Q(){const e=o.useRef(null);o.useEffect(()=>(e.current=new J,()=>{var t;null==(t=e.current)||t.cleanup()}),[]);return{announcePolite:o.useCallback(t=>{var r;null==(r=e.current)||r.announcePolite(t)},[]),announceAssertive:o.useCallback(t=>{var r;null==(r=e.current)||r.announceAssertive(t)},[])}}function X(e){const t=o.useRef(null),{saveFocus:r,restoreFocus:a,trapFocus:n}=function(){const e=o.useRef(new Y);return{saveFocus:o.useCallback(()=>{e.current.saveFocus()},[]),restoreFocus:o.useCallback(()=>{e.current.restoreFocus()},[]),moveFocus:o.useCallback((t,r)=>e.current.moveFocus(t,r),[]),trapFocus:o.useCallback(t=>e.current.trapFocus(t),[]),getFocusableElements:o.useCallback(t=>e.current.getFocusableElements(t),[])}}(),i=o.useRef(null);o.useEffect(()=>{var o;return e?(r(),document.body.style.overflow="hidden",t.current&&(i.current=n(t.current))):(a(),document.body.style.overflow="",null==(o=i.current)||o.call(i),i.current=null),()=>{var e;document.body.style.overflow="",null==(e=i.current)||e.call(i)}},[e,r,a,n]);return{modalProps:{ref:t,role:"dialog","aria-modal":!0,tabIndex:-1}}}function ee(){const e=o.useCallback(()=>`form-element-${Math.random().toString(36).substr(2,9)}`,[]);return{getFieldProps:o.useCallback(t=>{const r=e(),a=t.description?`${r}-desc`:void 0,n=t.error?`${r}-error`:void 0;return{fieldId:r,labelProps:{htmlFor:r},inputProps:{id:r,"aria-describedby":[a,n].filter(Boolean).join(" ")||void 0,"aria-invalid":!!t.error,"aria-required":t.required},descriptionProps:a?{id:a}:void 0,errorProps:n?{id:n,role:"alert","aria-live":"polite"}:void 0}},[e])}}window.matchMedia("(prefers-reduced-motion: reduce)").matches,window.matchMedia("(prefers-contrast: high)").matches,window.matchMedia("(prefers-color-scheme: dark)").matches;const te={},re=(e,t,r,a)=>{ie(r)&&te[r]||(ie(r)&&(te[r]=new Date),((e,t,r,a)=>{var n,o,i,s;const l=[r,{code:t,...a||{}}];if(null==(o=null==(n=null==e?void 0:e.services)?void 0:n.logger)?void 0:o.forward)return e.services.logger.forward(l,"warn","react-i18next::",!0);ie(l[0])&&(l[0]=`react-i18next:: ${l[0]}`),(null==(s=null==(i=null==e?void 0:e.services)?void 0:i.logger)?void 0:s.warn)?e.services.logger.warn(...l):null==console||console.warn})(e,t,r,a))},ae=(e,t)=>()=>{if(e.isInitialized)t();else{const r=()=>{setTimeout(()=>{e.off("initialized",r)},0),t()};e.on("initialized",r)}},ne=(e,t,r)=>{e.loadNamespaces(t,ae(e,r))},oe=(e,t,r,a)=>{if(ie(r)&&(r=[r]),e.options.preload&&e.options.preload.indexOf(t)>-1)return ne(e,r,a);r.forEach(t=>{e.options.ns.indexOf(t)<0&&e.options.ns.push(t)}),e.loadLanguages(t,ae(e,a))},ie=e=>"string"==typeof e,se=/&(?:amp|#38|lt|#60|gt|#62|apos|#39|quot|#34|nbsp|#160|copy|#169|reg|#174|hellip|#8230|#x2F|#47);/g,le={"&amp;":"&","&#38;":"&","&lt;":"<","&#60;":"<","&gt;":">","&#62;":">","&apos;":"'","&#39;":"'","&quot;":'"',"&#34;":'"',"&nbsp;":" ","&#160;":" ","&copy;":"©","&#169;":"©","&reg;":"®","&#174;":"®","&hellip;":"…","&#8230;":"…","&#x2F;":"/","&#47;":"/"},de=e=>le[e];let ce={bindI18n:"languageChanged",bindI18nStore:"",transEmptyNodeValue:"",transSupportBasicHtmlNodes:!0,transWrapTextNodes:"",transKeepBasicHtmlNodesFor:["br","strong","i","p"],useSuspense:!0,unescape:e=>e.replace(se,de)};let ue;const he={type:"3rdParty",init(e){((e={})=>{ce={...ce,...e}})(e.options.react),(e=>{ue=e})(e)}},pe=o.createContext();class ge{constructor(){this.usedNamespaces={}}addUsedNamespaces(e){e.forEach(e=>{this.usedNamespaces[e]||(this.usedNamespaces[e]=!0)})}getUsedNamespaces(){return Object.keys(this.usedNamespaces)}}const fe=(e,t,r,a)=>e.getFixedT(t,r,a),me=(e,t={})=>{var r,a,n,i;const{i18n:s}=t,{i18n:l,defaultNS:d}=o.useContext(pe)||{},c=s||l||ue;if(c&&!c.reportNamespaces&&(c.reportNamespaces=new ge),!c){re(c,"NO_I18NEXT_INSTANCE","useTranslation: You will need to pass in an i18next instance by using initReactI18next");const e=(e,t)=>{return ie(t)?t:"object"==typeof(r=t)&&null!==r&&ie(t.defaultValue)?t.defaultValue:Array.isArray(e)?e[e.length-1]:e;var r},t=[e,{},!1];return t.t=e,t.i18n={},t.ready=!1,t}(null==(r=c.options.react)?void 0:r.wait)&&re(c,"DEPRECATED_OPTION","useTranslation: It seems you are still using the old wait option, you may migrate to the new useSuspense behaviour.");const u={...ce,...c.options.react,...t},{useSuspense:h,keyPrefix:p}=u;let g=d||(null==(a=c.options)?void 0:a.defaultNS);g=ie(g)?[g]:g||["translation"],null==(i=(n=c.reportNamespaces).addUsedNamespaces)||i.call(n,g);const f=(c.isInitialized||c.initializedStoreOnce)&&g.every(e=>((e,t,r={})=>t.languages&&t.languages.length?t.hasLoadedNamespace(e,{lng:r.lng,precheck:(t,a)=>{var n;if((null==(n=r.bindI18n)?void 0:n.indexOf("languageChanging"))>-1&&t.services.backendConnector.backend&&t.isLanguageChangingTo&&!a(t.isLanguageChangingTo,e))return!1}}):(re(t,"NO_LANGUAGES","i18n.languages were undefined or empty",{languages:t.languages}),!0))(e,c,u)),m=((e,t,r,a)=>o.useCallback(fe(e,t,r,a),[e,t,r,a]))(c,t.lng||null,"fallback"===u.nsMode?g:g[0],p),v=()=>m,y=()=>fe(c,t.lng||null,"fallback"===u.nsMode?g:g[0],p),[b,x]=o.useState(v);let w=g.join();t.lng&&(w=`${t.lng}${w}`);const N=((e,t)=>{const r=o.useRef();return o.useEffect(()=>{r.current=e},[e,t]),r.current})(w),k=o.useRef(!0);o.useEffect(()=>{const{bindI18n:e,bindI18nStore:r}=u;k.current=!0,f||h||(t.lng?oe(c,t.lng,g,()=>{k.current&&x(y)}):ne(c,g,()=>{k.current&&x(y)})),f&&N&&N!==w&&k.current&&x(y);const a=()=>{k.current&&x(y)};return e&&(null==c||c.on(e,a)),r&&(null==c||c.store.on(r,a)),()=>{k.current=!1,c&&(null==e||e.split(" ").forEach(e=>c.off(e,a))),r&&c&&r.split(" ").forEach(e=>c.store.off(e,a))}},[c,w]),o.useEffect(()=>{k.current&&f&&x(v)},[c,p,f]);const S=[b,c,f];if(S.t=b,S.i18n=c,S.ready=f,f)return S;if(!f&&!h)return S;throw new Promise(e=>{t.lng?oe(c,t.lng,g,()=>e()):ne(c,g,()=>e())})};function ve(){const{t:e,i18n:t}=me(),r=t.language;return{t:e,tp:(t,r,a)=>e(t,{count:r,...a}),currentLanguage:r,changeLanguage:async e=>{try{await t.changeLanguage(e)}catch(r){}},isRTL:!1,formatNumber:(e,t)=>new Intl.NumberFormat(r,t).format(e),formatDate:(e,t)=>{const a="string"==typeof e?new Date(e):e;return new Intl.DateTimeFormat(r,t).format(a)},formatRelativeTime:(e,t)=>new Intl.RelativeTimeFormat(r,{numeric:"auto"}).format(e,t),translateFieldName:t=>({weight:e("fields.weight"),systolic_bp:e("fields.systolicBp"),diastolic_bp:e("fields.diastolicBp"),exercise:e("fields.exercise"),diet:e("fields.diet"),sleep:e("fields.sleep"),heart_rate:e("fields.heartRate"),body_temperature:e("fields.bodyTemperature"),smoke:e("fields.smoke"),alcohol:e("fields.alcohol"),notes:e("pages.input.notes")}[t]||t),translateError:(t,r)=>{const a=`errors.${t}`;return e(a,r?{message:r}:{defaultValue:e("errors.general")})},getAriaLabel:(t,r)=>e(`aria.${t}`,r),getAnnouncement:(t,r)=>e(`accessibility.announcements.${t}`,r),getFontClass:()=>{switch(r){case"ja":return"font-japanese";case"en":return"font-english";default:return""}}}}const ye=({className:e="",compact:t=!1})=>{const[a,n]=o.useState(!1),[i,s]=o.useState(0),{currentLanguage:l,changeLanguage:d,availableLanguages:c,getLanguageName:u}=function(){const{currentLanguage:e,changeLanguage:t}=ve(),r=[{code:"ja",name:"日本語"},{code:"en",name:"English"}];return{currentLanguage:e,changeLanguage:t,availableLanguages:r,getLanguageName:e=>{const t=r.find(t=>t.code===e);return(null==t?void 0:t.name)||e},getNextLanguage:()=>{const t=(r.findIndex(t=>t.code===e)+1)%r.length;return r[t]}}}(),h=c.findIndex(e=>e.code===l),{comboboxProps:p,listboxProps:g}=function({items:e,isOpen:t,selectedIndex:r,onSelectionChange:a,onToggle:n,onClose:i}){const[s,l]=o.useState(r),d=`listbox-${Math.random().toString(36).substr(2,9)}`,c=`combobox-${Math.random().toString(36).substr(2,9)}`;o.useEffect(()=>{t&&l(r)},[t,r]);const u=o.useCallback(r=>{switch(r.key){case"ArrowDown":r.preventDefault(),t?l(t=>t<e.length-1?t+1:0):n();break;case"ArrowUp":r.preventDefault(),t?l(t=>t>0?t-1:e.length-1):n();break;case"Enter":case" ":r.preventDefault(),t?(a(s),i()):n();break;case"Escape":r.preventDefault(),t&&i();break;case"Home":r.preventDefault(),t&&l(0);break;case"End":r.preventDefault(),t&&l(e.length-1)}},[t,e.length,s,n,a,i]);return{highlightedIndex:s,comboboxProps:{id:c,role:"combobox","aria-expanded":t,"aria-haspopup":"listbox","aria-controls":d,"aria-activedescendant":t?`${d}-option-${s}`:void 0,onKeyDown:u,tabIndex:0},listboxProps:{id:d,role:"listbox","aria-labelledby":c},getOptionProps:t=>({id:`${d}-option-${t}`,role:"option","aria-selected":t===r,"aria-setsize":e.length,"aria-posinset":t+1,className:t===s?"highlighted":""})}}({items:c,isOpen:a,selectedIndex:h>=0?h:0,onSelectionChange:s,onToggle:()=>n(!a),onClose:()=>n(!1)}),f=o.useCallback(async e=>{const t=c[e];t&&t.code!==l&&(await d(t.code),n(!1))},[c,l,d]),m=o.useCallback(e=>{f(e)},[f]);return t?r.jsxs("div",{className:`relative ${e}`,children:[r.jsxs("button",{className:"flex items-center gap-1 px-2 py-1 text-sm text-gray-600 hover:text-gray-800 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-1 rounded transition-colors duration-200",onClick:()=>n(!a),"aria-label":`現在の言語: ${u(l)}。クリックして言語を変更`,...p,children:[r.jsx(_,{className:"w-4 h-4","aria-hidden":"true"}),r.jsx("span",{className:"uppercase text-xs font-medium",children:l}),r.jsx(R,{className:"w-3 h-3 transition-transform duration-200 "+(a?"rotate-180":""),"aria-hidden":"true"})]}),a&&r.jsx("div",{className:"absolute top-full right-0 mt-1 bg-white border border-gray-200 rounded-lg shadow-lg z-50 min-w-[120px]",children:r.jsx("ul",{className:"py-1",...g,children:c.map((e,t)=>r.jsx("li",{children:r.jsxs("button",{className:"w-full text-left px-3 py-2 text-sm hover:bg-gray-50 focus:outline-none focus:bg-gray-50 transition-colors duration-200 "+(e.code===l?"bg-blue-50 text-blue-700 font-medium":"text-gray-700"),onClick:()=>m(t),role:"option","aria-selected":e.code===l,id:`language-option-${t}`,children:[r.jsxs("span",{className:"flex items-center gap-2",children:[r.jsx("span",{className:"uppercase text-xs bg-gray-100 px-1.5 py-0.5 rounded font-mono",children:e.code}),r.jsx("span",{children:e.name})]}),e.code===l&&r.jsx("span",{className:"sr-only",children:" (現在選択中)"})]})},e.code))})}),a&&r.jsx("div",{className:"fixed inset-0 z-40",onClick:()=>n(!1),"aria-hidden":"true"})]}):r.jsxs("div",{className:`relative ${e}`,children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[r.jsx(_,{className:"w-4 h-4 inline mr-1","aria-hidden":"true"}),"表示言語 / Display Language"]}),r.jsxs("div",{className:"relative",children:[r.jsxs("button",{className:"w-full bg-white border border-gray-300 rounded-lg px-4 py-2 text-left focus:outline-none focus:ring-2 focus:ring-blue-600 focus:border-blue-600 flex items-center justify-between",onClick:()=>n(!a),"aria-label":`現在の言語: ${u(l)}。クリックして言語を変更`,...p,children:[r.jsxs("span",{className:"flex items-center gap-2",children:[r.jsx("span",{className:"uppercase text-xs bg-gray-100 px-2 py-1 rounded font-mono font-medium",children:l}),r.jsx("span",{className:"font-medium",children:u(l)})]}),r.jsx(R,{className:"w-5 h-5 text-gray-400 transition-transform duration-200 "+(a?"rotate-180":""),"aria-hidden":"true"})]}),a&&r.jsx("div",{className:"absolute top-full left-0 right-0 mt-1 bg-white border border-gray-200 rounded-lg shadow-lg z-50",children:r.jsx("ul",{className:"py-1 max-h-60 overflow-y-auto",...g,children:c.map((e,t)=>r.jsx("li",{children:r.jsx("button",{className:"w-full text-left px-4 py-3 hover:bg-gray-50 focus:outline-none focus:bg-gray-50 transition-colors duration-200 "+(e.code===l?"bg-blue-50 text-blue-700":"text-gray-700"),onClick:()=>m(t),role:"option","aria-selected":e.code===l,id:`language-option-full-${t}`,children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("span",{className:"uppercase text-xs bg-gray-100 px-2 py-1 rounded font-mono font-medium",children:e.code}),r.jsx("span",{className:"font-medium",children:e.name}),e.code===l&&r.jsxs("span",{className:"ml-auto text-blue-600",children:["✓",r.jsx("span",{className:"sr-only",children:" (現在選択中)"})]})]})})},e.code))})}),a&&r.jsx("div",{className:"fixed inset-0 z-40",onClick:()=>n(!1),"aria-hidden":"true"})]}),r.jsx("p",{className:"mt-2 text-xs text-gray-500",children:"アプリケーションの表示言語を変更できます。設定は自動的に保存されます。"})]})},be=({className:e="",onInstall:t,onCancel:a,debug:n=!1})=>{const[i,s]=o.useState(null),[l,d]=o.useState(!1),[c,u]=o.useState(!1),[h,p]=o.useState(!1),[g,f]=o.useState("");o.useEffect(()=>{(()=>{const e=window.matchMedia("(display-mode: standalone)").matches,t=!0===navigator.standalone;if(e||t)return p(!0),void f(`Already installed: standalone=${e}, ios=${t}`);f(`Not installed: standalone=${e}, ios=${t}`)})();const e=e=>{e.preventDefault(),s(e),d(!0),f("beforeinstallprompt event received - installable!")},r=()=>{p(!0),d(!1),s(null),f("App installed successfully"),null==t||t()};return window.addEventListener("beforeinstallprompt",e),window.addEventListener("appinstalled",r),n&&setTimeout(()=>{l||h||f(e=>`${e} | No beforeinstallprompt after 5s`)},5e3),()=>{window.removeEventListener("beforeinstallprompt",e),window.removeEventListener("appinstalled",r)}},[t,n,l,h]);const m=async()=>{if(i){u(!0);try{await i.prompt();const{outcome:e}=await i.userChoice;"dismissed"===e&&(null==a||a()),s(null),d(!1)}catch(e){f(`Installation failed: ${e}`)}finally{u(!1)}}},v=()=>{alert(`PWAインストール方法:\n\nChrome/Edge: アドレスバー右側の📦アイコンをクリック\nFirefox: アドレスバーの⋮ → このサイトをインストール\nSafari (iOS): 共有ボタン → ホーム画面に追加\n\n現在の状態: ${g}`)};return n?r.jsxs("div",{className:"flex flex-col gap-2",children:[r.jsxs("button",{onClick:l?m:v,disabled:c,className:`inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white ${l?"bg-green-600 hover:bg-green-700":"bg-blue-600 hover:bg-blue-700"} focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500 disabled:opacity-50 disabled:cursor-not-allowed transition-colors duration-200 ${e}`,"aria-label":"アプリをインストール",children:[r.jsx("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 10v6m0 0l-3-3m3 3l3-3m2 8H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),c?"インストール中...":l?"アプリをインストール":"インストール方法を表示"]}),r.jsxs("div",{className:"text-xs text-gray-500 max-w-xs",children:["デバッグ: ",g]})]}):h||!l?null:r.jsxs("button",{onClick:m,disabled:c,className:`inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-green-600 hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500 disabled:opacity-50 disabled:cursor-not-allowed transition-colors duration-200 ${e}`,"aria-label":"アプリをインストール",children:[r.jsx("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 10v6m0 0l-3-3m3 3l3-3m2 8H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),c?"インストール中...":"アプリをインストール"]})};function xe(e){return g({attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M2 2h2v2H2z"},child:[]},{tag:"path",attr:{d:"M6 0v6H0V0zM5 1H1v4h4zM4 12H2v2h2z"},child:[]},{tag:"path",attr:{d:"M6 10v6H0v-6zm-5 1v4h4v-4zm11-9h2v2h-2z"},child:[]},{tag:"path",attr:{d:"M10 0v6h6V0zm5 1v4h-4V1zM8 1V0h1v2H8v2H7V1zm0 5V4h1v2zM6 8V7h1V6h1v2h1V7h5v1h-4v1H7V8zm0 0v1H2V8H1v1H0V7h3v1zm10 1h-1V7h1zm-1 0h-1v2h2v-1h-1zm-4 0h2v1h-1v1h-1zm2 3v-1h-1v1h-1v1H9v1h3v-2zm0 0h3v1h-2v1h-1zm-4-1v1h1v-2H7v1z"},child:[]},{tag:"path",attr:{d:"M7 12h1v3h4v1H7zm9 2v2h-3v-1h2v-1z"},child:[]}]})(e)}function we(e){return g({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"m289.94 256 95-95A24 24 0 0 0 351 127l-95 95-95-95a24 24 0 0 0-34 34l95 95-95 95a24 24 0 1 0 34 34l95-95 95 95a24 24 0 0 0 34-34z"},child:[]}]})(e)}var Ne,ke,Se,Ce,De,Le,Ee,je,Oe,Re,Te,Ae,Pe,Me,Ie,Fe,$e,Be,Ve={};function _e(){return ke?Ne:(ke=1,Ne={L:1,M:0,Q:3,H:2})}function He(){return Ce?Se:(Ce=1,Se={MODE_NUMBER:1,MODE_ALPHA_NUM:2,MODE_8BIT_BYTE:4,MODE_KANJI:8})}function Ue(){if(Ae)return Te;Ae=1;for(var e={glog:function(t){if(t<1)throw new Error("glog("+t+")");return e.LOG_TABLE[t]},gexp:function(t){for(;t<0;)t+=255;for(;t>=256;)t-=255;return e.EXP_TABLE[t]},EXP_TABLE:new Array(256),LOG_TABLE:new Array(256)},t=0;t<8;t++)e.EXP_TABLE[t]=1<<t;for(t=8;t<256;t++)e.EXP_TABLE[t]=e.EXP_TABLE[t-4]^e.EXP_TABLE[t-5]^e.EXP_TABLE[t-6]^e.EXP_TABLE[t-8];for(t=0;t<255;t++)e.LOG_TABLE[e.EXP_TABLE[t]]=t;return Te=e}function ze(){if(Me)return Pe;Me=1;var e=Ue();function t(e,t){if(null==e.length)throw new Error(e.length+"/"+t);for(var r=0;r<e.length&&0==e[r];)r++;this.num=new Array(e.length-r+t);for(var a=0;a<e.length-r;a++)this.num[a]=e[a+r]}return t.prototype={get:function(e){return this.num[e]},getLength:function(){return this.num.length},multiply:function(r){for(var a=new Array(this.getLength()+r.getLength()-1),n=0;n<this.getLength();n++)for(var o=0;o<r.getLength();o++)a[n+o]^=e.gexp(e.glog(this.get(n))+e.glog(r.get(o)));return new t(a,0)},mod:function(r){if(this.getLength()-r.getLength()<0)return this;for(var a=e.glog(this.get(0))-e.glog(r.get(0)),n=new Array(this.getLength()),o=0;o<this.getLength();o++)n[o]=this.get(o);for(o=0;o<r.getLength();o++)n[o]^=e.gexp(e.glog(r.get(o))+a);return new t(n,0).mod(r)}},Pe=t}function Ze(){if(Be)return $e;Be=1;var e=function(){if(Le)return De;Le=1;var e=He();function t(t){this.mode=e.MODE_8BIT_BYTE,this.data=t}return t.prototype={getLength:function(e){return this.data.length},write:function(e){for(var t=0;t<this.data.length;t++)e.put(this.data.charCodeAt(t),8)}},De=t}(),t=function(){if(je)return Ee;je=1;var e=_e();function t(e,t){this.totalCount=e,this.dataCount=t}return t.RS_BLOCK_TABLE=[[1,26,19],[1,26,16],[1,26,13],[1,26,9],[1,44,34],[1,44,28],[1,44,22],[1,44,16],[1,70,55],[1,70,44],[2,35,17],[2,35,13],[1,100,80],[2,50,32],[2,50,24],[4,25,9],[1,134,108],[2,67,43],[2,33,15,2,34,16],[2,33,11,2,34,12],[2,86,68],[4,43,27],[4,43,19],[4,43,15],[2,98,78],[4,49,31],[2,32,14,4,33,15],[4,39,13,1,40,14],[2,121,97],[2,60,38,2,61,39],[4,40,18,2,41,19],[4,40,14,2,41,15],[2,146,116],[3,58,36,2,59,37],[4,36,16,4,37,17],[4,36,12,4,37,13],[2,86,68,2,87,69],[4,69,43,1,70,44],[6,43,19,2,44,20],[6,43,15,2,44,16],[4,101,81],[1,80,50,4,81,51],[4,50,22,4,51,23],[3,36,12,8,37,13],[2,116,92,2,117,93],[6,58,36,2,59,37],[4,46,20,6,47,21],[7,42,14,4,43,15],[4,133,107],[8,59,37,1,60,38],[8,44,20,4,45,21],[12,33,11,4,34,12],[3,145,115,1,146,116],[4,64,40,5,65,41],[11,36,16,5,37,17],[11,36,12,5,37,13],[5,109,87,1,110,88],[5,65,41,5,66,42],[5,54,24,7,55,25],[11,36,12],[5,122,98,1,123,99],[7,73,45,3,74,46],[15,43,19,2,44,20],[3,45,15,13,46,16],[1,135,107,5,136,108],[10,74,46,1,75,47],[1,50,22,15,51,23],[2,42,14,17,43,15],[5,150,120,1,151,121],[9,69,43,4,70,44],[17,50,22,1,51,23],[2,42,14,19,43,15],[3,141,113,4,142,114],[3,70,44,11,71,45],[17,47,21,4,48,22],[9,39,13,16,40,14],[3,135,107,5,136,108],[3,67,41,13,68,42],[15,54,24,5,55,25],[15,43,15,10,44,16],[4,144,116,4,145,117],[17,68,42],[17,50,22,6,51,23],[19,46,16,6,47,17],[2,139,111,7,140,112],[17,74,46],[7,54,24,16,55,25],[34,37,13],[4,151,121,5,152,122],[4,75,47,14,76,48],[11,54,24,14,55,25],[16,45,15,14,46,16],[6,147,117,4,148,118],[6,73,45,14,74,46],[11,54,24,16,55,25],[30,46,16,2,47,17],[8,132,106,4,133,107],[8,75,47,13,76,48],[7,54,24,22,55,25],[22,45,15,13,46,16],[10,142,114,2,143,115],[19,74,46,4,75,47],[28,50,22,6,51,23],[33,46,16,4,47,17],[8,152,122,4,153,123],[22,73,45,3,74,46],[8,53,23,26,54,24],[12,45,15,28,46,16],[3,147,117,10,148,118],[3,73,45,23,74,46],[4,54,24,31,55,25],[11,45,15,31,46,16],[7,146,116,7,147,117],[21,73,45,7,74,46],[1,53,23,37,54,24],[19,45,15,26,46,16],[5,145,115,10,146,116],[19,75,47,10,76,48],[15,54,24,25,55,25],[23,45,15,25,46,16],[13,145,115,3,146,116],[2,74,46,29,75,47],[42,54,24,1,55,25],[23,45,15,28,46,16],[17,145,115],[10,74,46,23,75,47],[10,54,24,35,55,25],[19,45,15,35,46,16],[17,145,115,1,146,116],[14,74,46,21,75,47],[29,54,24,19,55,25],[11,45,15,46,46,16],[13,145,115,6,146,116],[14,74,46,23,75,47],[44,54,24,7,55,25],[59,46,16,1,47,17],[12,151,121,7,152,122],[12,75,47,26,76,48],[39,54,24,14,55,25],[22,45,15,41,46,16],[6,151,121,14,152,122],[6,75,47,34,76,48],[46,54,24,10,55,25],[2,45,15,64,46,16],[17,152,122,4,153,123],[29,74,46,14,75,47],[49,54,24,10,55,25],[24,45,15,46,46,16],[4,152,122,18,153,123],[13,74,46,32,75,47],[48,54,24,14,55,25],[42,45,15,32,46,16],[20,147,117,4,148,118],[40,75,47,7,76,48],[43,54,24,22,55,25],[10,45,15,67,46,16],[19,148,118,6,149,119],[18,75,47,31,76,48],[34,54,24,34,55,25],[20,45,15,61,46,16]],t.getRSBlocks=function(e,r){var a=t.getRsBlockTable(e,r);if(null==a)throw new Error("bad rs block @ typeNumber:"+e+"/errorCorrectLevel:"+r);for(var n=a.length/3,o=new Array,i=0;i<n;i++)for(var s=a[3*i+0],l=a[3*i+1],d=a[3*i+2],c=0;c<s;c++)o.push(new t(l,d));return o},t.getRsBlockTable=function(r,a){switch(a){case e.L:return t.RS_BLOCK_TABLE[4*(r-1)+0];case e.M:return t.RS_BLOCK_TABLE[4*(r-1)+1];case e.Q:return t.RS_BLOCK_TABLE[4*(r-1)+2];case e.H:return t.RS_BLOCK_TABLE[4*(r-1)+3];default:return}},Ee=t}(),r=function(){if(Re)return Oe;function e(){this.buffer=new Array,this.length=0}return Re=1,e.prototype={get:function(e){var t=Math.floor(e/8);return 1==(this.buffer[t]>>>7-e%8&1)},put:function(e,t){for(var r=0;r<t;r++)this.putBit(1==(e>>>t-r-1&1))},getLengthInBits:function(){return this.length},putBit:function(e){var t=Math.floor(this.length/8);this.buffer.length<=t&&this.buffer.push(0),e&&(this.buffer[t]|=128>>>this.length%8),this.length++}},Oe=e}(),a=function(){if(Fe)return Ie;Fe=1;var e=He(),t=ze(),r=Ue(),a=0,n=1,o=2,i=3,s=4,l=5,d=6,c=7,u={PATTERN_POSITION_TABLE:[[],[6,18],[6,22],[6,26],[6,30],[6,34],[6,22,38],[6,24,42],[6,26,46],[6,28,50],[6,30,54],[6,32,58],[6,34,62],[6,26,46,66],[6,26,48,70],[6,26,50,74],[6,30,54,78],[6,30,56,82],[6,30,58,86],[6,34,62,90],[6,28,50,72,94],[6,26,50,74,98],[6,30,54,78,102],[6,28,54,80,106],[6,32,58,84,110],[6,30,58,86,114],[6,34,62,90,118],[6,26,50,74,98,122],[6,30,54,78,102,126],[6,26,52,78,104,130],[6,30,56,82,108,134],[6,34,60,86,112,138],[6,30,58,86,114,142],[6,34,62,90,118,146],[6,30,54,78,102,126,150],[6,24,50,76,102,128,154],[6,28,54,80,106,132,158],[6,32,58,84,110,136,162],[6,26,54,82,110,138,166],[6,30,58,86,114,142,170]],G15:1335,G18:7973,G15_MASK:21522,getBCHTypeInfo:function(e){for(var t=e<<10;u.getBCHDigit(t)-u.getBCHDigit(u.G15)>=0;)t^=u.G15<<u.getBCHDigit(t)-u.getBCHDigit(u.G15);return(e<<10|t)^u.G15_MASK},getBCHTypeNumber:function(e){for(var t=e<<12;u.getBCHDigit(t)-u.getBCHDigit(u.G18)>=0;)t^=u.G18<<u.getBCHDigit(t)-u.getBCHDigit(u.G18);return e<<12|t},getBCHDigit:function(e){for(var t=0;0!=e;)t++,e>>>=1;return t},getPatternPosition:function(e){return u.PATTERN_POSITION_TABLE[e-1]},getMask:function(e,t,r){switch(e){case a:return(t+r)%2==0;case n:return t%2==0;case o:return r%3==0;case i:return(t+r)%3==0;case s:return(Math.floor(t/2)+Math.floor(r/3))%2==0;case l:return t*r%2+t*r%3==0;case d:return(t*r%2+t*r%3)%2==0;case c:return(t*r%3+(t+r)%2)%2==0;default:throw new Error("bad maskPattern:"+e)}},getErrorCorrectPolynomial:function(e){for(var a=new t([1],0),n=0;n<e;n++)a=a.multiply(new t([1,r.gexp(n)],0));return a},getLengthInBits:function(t,r){if(1<=r&&r<10)switch(t){case e.MODE_NUMBER:return 10;case e.MODE_ALPHA_NUM:return 9;case e.MODE_8BIT_BYTE:case e.MODE_KANJI:return 8;default:throw new Error("mode:"+t)}else if(r<27)switch(t){case e.MODE_NUMBER:return 12;case e.MODE_ALPHA_NUM:return 11;case e.MODE_8BIT_BYTE:return 16;case e.MODE_KANJI:return 10;default:throw new Error("mode:"+t)}else{if(!(r<41))throw new Error("type:"+r);switch(t){case e.MODE_NUMBER:return 14;case e.MODE_ALPHA_NUM:return 13;case e.MODE_8BIT_BYTE:return 16;case e.MODE_KANJI:return 12;default:throw new Error("mode:"+t)}}},getLostPoint:function(e){for(var t=e.getModuleCount(),r=0,a=0;a<t;a++)for(var n=0;n<t;n++){for(var o=0,i=e.isDark(a,n),s=-1;s<=1;s++)if(!(a+s<0||t<=a+s))for(var l=-1;l<=1;l++)n+l<0||t<=n+l||0==s&&0==l||i==e.isDark(a+s,n+l)&&o++;o>5&&(r+=3+o-5)}for(a=0;a<t-1;a++)for(n=0;n<t-1;n++){var d=0;e.isDark(a,n)&&d++,e.isDark(a+1,n)&&d++,e.isDark(a,n+1)&&d++,e.isDark(a+1,n+1)&&d++,0!=d&&4!=d||(r+=3)}for(a=0;a<t;a++)for(n=0;n<t-6;n++)e.isDark(a,n)&&!e.isDark(a,n+1)&&e.isDark(a,n+2)&&e.isDark(a,n+3)&&e.isDark(a,n+4)&&!e.isDark(a,n+5)&&e.isDark(a,n+6)&&(r+=40);for(n=0;n<t;n++)for(a=0;a<t-6;a++)e.isDark(a,n)&&!e.isDark(a+1,n)&&e.isDark(a+2,n)&&e.isDark(a+3,n)&&e.isDark(a+4,n)&&!e.isDark(a+5,n)&&e.isDark(a+6,n)&&(r+=40);var c=0;for(n=0;n<t;n++)for(a=0;a<t;a++)e.isDark(a,n)&&c++;return r+Math.abs(100*c/t/t-50)/5*10}};return Ie=u}(),n=ze();function o(e,t){this.typeNumber=e,this.errorCorrectLevel=t,this.modules=null,this.moduleCount=0,this.dataCache=null,this.dataList=[]}var i=o.prototype;return i.addData=function(t){var r=new e(t);this.dataList.push(r),this.dataCache=null},i.isDark=function(e,t){if(e<0||this.moduleCount<=e||t<0||this.moduleCount<=t)throw new Error(e+","+t);return this.modules[e][t]},i.getModuleCount=function(){return this.moduleCount},i.make=function(){if(this.typeNumber<1){var e=1;for(e=1;e<40;e++){for(var n=t.getRSBlocks(e,this.errorCorrectLevel),o=new r,i=0,s=0;s<n.length;s++)i+=n[s].dataCount;for(s=0;s<this.dataList.length;s++){var l=this.dataList[s];o.put(l.mode,4),o.put(l.getLength(),a.getLengthInBits(l.mode,e)),l.write(o)}if(o.getLengthInBits()<=8*i)break}this.typeNumber=e}this.makeImpl(!1,this.getBestMaskPattern())},i.makeImpl=function(e,t){this.moduleCount=4*this.typeNumber+17,this.modules=new Array(this.moduleCount);for(var r=0;r<this.moduleCount;r++){this.modules[r]=new Array(this.moduleCount);for(var a=0;a<this.moduleCount;a++)this.modules[r][a]=null}this.setupPositionProbePattern(0,0),this.setupPositionProbePattern(this.moduleCount-7,0),this.setupPositionProbePattern(0,this.moduleCount-7),this.setupPositionAdjustPattern(),this.setupTimingPattern(),this.setupTypeInfo(e,t),this.typeNumber>=7&&this.setupTypeNumber(e),null==this.dataCache&&(this.dataCache=o.createData(this.typeNumber,this.errorCorrectLevel,this.dataList)),this.mapData(this.dataCache,t)},i.setupPositionProbePattern=function(e,t){for(var r=-1;r<=7;r++)if(!(e+r<=-1||this.moduleCount<=e+r))for(var a=-1;a<=7;a++)t+a<=-1||this.moduleCount<=t+a||(this.modules[e+r][t+a]=0<=r&&r<=6&&(0==a||6==a)||0<=a&&a<=6&&(0==r||6==r)||2<=r&&r<=4&&2<=a&&a<=4)},i.getBestMaskPattern=function(){for(var e=0,t=0,r=0;r<8;r++){this.makeImpl(!0,r);var n=a.getLostPoint(this);(0==r||e>n)&&(e=n,t=r)}return t},i.createMovieClip=function(e,t,r){var a=e.createEmptyMovieClip(t,r);this.make();for(var n=0;n<this.modules.length;n++)for(var o=1*n,i=0;i<this.modules[n].length;i++){var s=1*i;this.modules[n][i]&&(a.beginFill(0,100),a.moveTo(s,o),a.lineTo(s+1,o),a.lineTo(s+1,o+1),a.lineTo(s,o+1),a.endFill())}return a},i.setupTimingPattern=function(){for(var e=8;e<this.moduleCount-8;e++)null==this.modules[e][6]&&(this.modules[e][6]=e%2==0);for(var t=8;t<this.moduleCount-8;t++)null==this.modules[6][t]&&(this.modules[6][t]=t%2==0)},i.setupPositionAdjustPattern=function(){for(var e=a.getPatternPosition(this.typeNumber),t=0;t<e.length;t++)for(var r=0;r<e.length;r++){var n=e[t],o=e[r];if(null==this.modules[n][o])for(var i=-2;i<=2;i++)for(var s=-2;s<=2;s++)this.modules[n+i][o+s]=-2==i||2==i||-2==s||2==s||0==i&&0==s}},i.setupTypeNumber=function(e){for(var t=a.getBCHTypeNumber(this.typeNumber),r=0;r<18;r++){var n=!e&&1==(t>>r&1);this.modules[Math.floor(r/3)][r%3+this.moduleCount-8-3]=n}for(r=0;r<18;r++){n=!e&&1==(t>>r&1);this.modules[r%3+this.moduleCount-8-3][Math.floor(r/3)]=n}},i.setupTypeInfo=function(e,t){for(var r=this.errorCorrectLevel<<3|t,n=a.getBCHTypeInfo(r),o=0;o<15;o++){var i=!e&&1==(n>>o&1);o<6?this.modules[o][8]=i:o<8?this.modules[o+1][8]=i:this.modules[this.moduleCount-15+o][8]=i}for(o=0;o<15;o++){i=!e&&1==(n>>o&1);o<8?this.modules[8][this.moduleCount-o-1]=i:o<9?this.modules[8][15-o-1+1]=i:this.modules[8][15-o-1]=i}this.modules[this.moduleCount-8][8]=!e},i.mapData=function(e,t){for(var r=-1,n=this.moduleCount-1,o=7,i=0,s=this.moduleCount-1;s>0;s-=2)for(6==s&&s--;;){for(var l=0;l<2;l++)if(null==this.modules[n][s-l]){var d=!1;i<e.length&&(d=1==(e[i]>>>o&1)),a.getMask(t,n,s-l)&&(d=!d),this.modules[n][s-l]=d,-1==--o&&(i++,o=7)}if((n+=r)<0||this.moduleCount<=n){n-=r,r=-r;break}}},o.PAD0=236,o.PAD1=17,o.createData=function(e,n,i){for(var s=t.getRSBlocks(e,n),l=new r,d=0;d<i.length;d++){var c=i[d];l.put(c.mode,4),l.put(c.getLength(),a.getLengthInBits(c.mode,e)),c.write(l)}var u=0;for(d=0;d<s.length;d++)u+=s[d].dataCount;if(l.getLengthInBits()>8*u)throw new Error("code length overflow. ("+l.getLengthInBits()+">"+8*u+")");for(l.getLengthInBits()+4<=8*u&&l.put(0,4);l.getLengthInBits()%8!=0;)l.putBit(!1);for(;!(l.getLengthInBits()>=8*u||(l.put(o.PAD0,8),l.getLengthInBits()>=8*u));)l.put(o.PAD1,8);return o.createBytes(l,s)},o.createBytes=function(e,t){for(var r=0,o=0,i=0,s=new Array(t.length),l=new Array(t.length),d=0;d<t.length;d++){var c=t[d].dataCount,u=t[d].totalCount-c;o=Math.max(o,c),i=Math.max(i,u),s[d]=new Array(c);for(var h=0;h<s[d].length;h++)s[d][h]=255&e.buffer[h+r];r+=c;var p=a.getErrorCorrectPolynomial(u),g=new n(s[d],p.getLength()-1).mod(p);l[d]=new Array(p.getLength()-1);for(h=0;h<l[d].length;h++){var f=h+g.getLength()-l[d].length;l[d][h]=f>=0?g.get(f):0}}var m=0;for(h=0;h<t.length;h++)m+=t[h].totalCount;var v=new Array(m),y=0;for(h=0;h<o;h++)for(d=0;d<t.length;d++)h<s[d].length&&(v[y++]=s[d][h]);for(h=0;h<i;h++)for(d=0;d<t.length;d++)h<l[d].length&&(v[y++]=l[d][h]);return v},$e=o}var qe,Ke,We={};function Ye(){if(qe)return We;qe=1,Object.defineProperty(We,"__esModule",{value:!0});var e=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},t=o(a()),r=i(),n=o(r);function o(e){return e&&e.__esModule?e:{default:e}}var s={bgColor:t.default.oneOfType([t.default.object,t.default.string]).isRequired,bgD:t.default.string.isRequired,fgColor:t.default.oneOfType([t.default.object,t.default.string]).isRequired,fgD:t.default.string.isRequired,size:t.default.number.isRequired,title:t.default.string,viewBoxSize:t.default.number.isRequired,xmlns:t.default.string},l=(0,r.forwardRef)(function(t,r){var a=t.bgColor,o=t.bgD,i=t.fgD,s=t.fgColor,l=t.size,d=t.title,c=t.viewBoxSize,u=t.xmlns,h=void 0===u?"http://www.w3.org/2000/svg":u,p=function(e,t){var r={};for(var a in e)t.indexOf(a)>=0||Object.prototype.hasOwnProperty.call(e,a)&&(r[a]=e[a]);return r}(t,["bgColor","bgD","fgD","fgColor","size","title","viewBoxSize","xmlns"]);return n.default.createElement("svg",e({},p,{height:l,ref:r,viewBox:"0 0 "+c+" "+c,width:l,xmlns:h}),d?n.default.createElement("title",null,d):null,n.default.createElement("path",{d:o,fill:a}),n.default.createElement("path",{d:i,fill:s}))});return l.displayName="QRCodeSvg",l.propTypes=s,We.default=l,We}const Je=s(function(){if(Ke)return Ve;Ke=1,Object.defineProperty(Ve,"__esModule",{value:!0}),Ve.QRCode=void 0;var e=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},t=d(a()),r=d(_e()),n=d(Ze()),o=i(),s=d(o),l=d(Ye());function d(e){return e&&e.__esModule?e:{default:e}}var c={bgColor:t.default.oneOfType([t.default.object,t.default.string]),fgColor:t.default.oneOfType([t.default.object,t.default.string]),level:t.default.string,size:t.default.number,value:t.default.string.isRequired},u=(0,o.forwardRef)(function(t,a){var o=t.bgColor,i=void 0===o?"#FFFFFF":o,d=t.fgColor,c=void 0===d?"#000000":d,u=t.level,h=void 0===u?"L":u,p=t.size,g=void 0===p?256:p,f=t.value,m=function(e,t){var r={};for(var a in e)t.indexOf(a)>=0||Object.prototype.hasOwnProperty.call(e,a)&&(r[a]=e[a]);return r}(t,["bgColor","fgColor","level","size","value"]),v=new n.default(-1,r.default[h]);v.addData(f),v.make();var y=v.modules;return s.default.createElement(l.default,e({},m,{bgColor:i,bgD:y.map(function(e,t){return e.map(function(e,r){return e?"":"M "+r+" "+t+" l 1 0 0 1 -1 0 Z"}).join(" ")}).join(" "),fgColor:c,fgD:y.map(function(e,t){return e.map(function(e,r){return e?"M "+r+" "+t+" l 1 0 0 1 -1 0 Z":""}).join(" ")}).join(" "),ref:a,size:g,viewBoxSize:y.length}))});return Ve.QRCode=u,u.displayName="QRCode",u.propTypes=c,Ve.default=u,Ve}()),Ge=({url:e="https://ted-sharp.github.io/aloe-wellness-log/",className:t=""})=>{const{t:a}=ve(),[n,i]=o.useState(!1),s=()=>i(!1);return r.jsxs(r.Fragment,{children:[r.jsxs("button",{onClick:()=>i(!0),className:`inline-flex items-center gap-2 px-3 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-emerald-500 focus:ring-offset-2 transition-colors ${t}`,title:a("dialogs.qrCode.show"),children:[r.jsx(xe,{className:"w-4 h-4"}),r.jsx("span",{className:"hidden sm:inline",children:a("dialogs.qrCode.buttonText")})]}),n&&r.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center backdrop-blur-sm",style:{backgroundColor:"rgba(0, 0, 0, 0.3)"},children:r.jsxs("div",{className:"bg-white rounded-lg p-6 m-4 max-w-sm w-full shadow-xl",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:a("dialogs.qrCode.title")}),r.jsx("button",{onClick:s,className:"text-gray-400 hover:text-gray-600 transition-colors",children:r.jsx(we,{className:"w-5 h-5"})})]}),r.jsxs("div",{className:"flex flex-col items-center space-y-4",children:[r.jsx("div",{className:"bg-white p-4 rounded-lg shadow-inner border",children:r.jsx(Je,{value:e,size:200,style:{height:"auto",maxWidth:"100%",width:"100%"},viewBox:"0 0 256 256"})}),r.jsxs("div",{className:"text-center",children:[r.jsx("p",{className:"text-sm text-gray-600 mb-2",children:a("dialogs.qrCode.scanText")}),r.jsx("p",{className:"text-xs text-gray-500 break-all",children:e})]}),r.jsx("button",{onClick:()=>{navigator.clipboard.writeText(e);const t=document.activeElement,r=t.textContent;t.textContent=a("dialogs.qrCode.copied"),setTimeout(()=>{t.textContent=r},2e3)},className:"px-4 py-2 text-sm font-medium text-emerald-700 bg-emerald-50 border border-emerald-200 rounded-md hover:bg-emerald-100 focus:outline-none focus:ring-2 focus:ring-emerald-500 focus:ring-offset-2 transition-colors",children:a("dialogs.qrCode.copyUrl")})]}),r.jsx("button",{onClick:s,className:"w-full mt-4 px-4 py-2 text-sm font-medium text-gray-700 bg-gray-100 border border-gray-300 rounded-md hover:bg-gray-200 focus:outline-none focus:ring-2 focus:ring-gray-500 focus:ring-offset-2 transition-colors",children:a("dialogs.qrCode.close")})]})})]})},Qe=f((e,t)=>({toasts:[],showToast:(r,a="info",n=3e3)=>{const o=`toast-${Date.now()}-${Math.random().toString(36).substr(2,9)}`,i={id:o,type:a,message:r,duration:n};e(e=>({toasts:[...e.toasts,i]})),n&&n>0&&setTimeout(()=>{t().removeToast(o)},n)},showSuccess:(e,r=2e3)=>{t().showToast(e,"success",r)},showError:(e,r=5e3)=>{t().showToast(e,"error",r)},showWarning:(e,r=4e3)=>{t().showToast(e,"warning",r)},showInfo:(e,r=3e3)=>{t().showToast(e,"info",r)},removeToast:t=>{e(e=>({toasts:e.toasts.filter(e=>e.id!==t)}))},clearAll:()=>{e({toasts:[]})}})),Xe=()=>{const{toasts:e,removeToast:t}=Qe(),a=o.useRef(null);o.useEffect(()=>{if(e.length>0){const t=e[e.length-1];if("error"===t.type||"warning"===t.type){const e=document.querySelector(`[data-toast-id="${t.id}"]`);e&&e.focus()}}},[e]);const n=e=>{switch(e){case"success":return r.jsx(E,{className:"w-5 h-5 text-green-600","aria-hidden":"true"});case"error":return r.jsx(q,{className:"w-5 h-5 text-red-600","aria-hidden":"true"});case"warning":return r.jsx($,{className:"w-5 h-5 text-yellow-600","aria-hidden":"true"});case"info":return r.jsx(V,{className:"w-5 h-5 text-blue-600","aria-hidden":"true"})}},i=e=>{switch(e){case"success":return"bg-green-50 border-green-200 text-green-800";case"error":return"bg-red-50 border-red-200 text-red-800";case"warning":return"bg-yellow-50 border-yellow-200 text-yellow-800";case"info":return"bg-blue-50 border-blue-200 text-blue-800"}},s=e=>{switch(e){case"success":return"成功";case"error":return"エラー";case"warning":return"警告";case"info":return"情報"}};return 0===e.length?null:r.jsx("div",{ref:a,className:"fixed top-4 right-4 z-50 space-y-2",role:"region","aria-label":"通知メッセージ","aria-live":"polite","aria-atomic":"false",children:e.map(e=>r.jsx("div",{"data-toast-id":e.id,className:`${i(e.type)} border rounded-lg p-4 shadow-lg max-w-sm transform transition-all duration-300 ease-in-out animate-in slide-in-from-right-5 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500`,role:"error"===e.type||"warning"===e.type?"alert":"status","aria-label":`${s(e.type)}: ${e.message}`,tabIndex:"error"===e.type||"warning"===e.type?0:-1,children:r.jsxs("div",{className:"flex items-start gap-3",children:[r.jsx("div",{className:"flex-shrink-0",children:n(e.type)}),r.jsx("div",{className:"flex-1 min-w-0",children:r.jsxs("p",{className:"text-sm font-medium leading-5",children:[r.jsxs("span",{className:"sr-only",children:[s(e.type),": "]}),e.message]})}),r.jsx("button",{onClick:()=>t(e.id),className:"flex-shrink-0 text-gray-400 hover:text-gray-600 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 rounded-full p-1","aria-label":`${s(e.type)}通知を閉じる`,children:r.jsx(K,{className:"w-4 h-4","aria-hidden":"true"})})]})},e.id))})},et=!1,tt={enableRenderTracking:!0,enableMemoryTracking:!0,enableInteractionTracking:!0,enableDatabaseTracking:!0,sampleRate:.1,reportInterval:3e4};const rt=new class{constructor(e=tt){t(this,"metrics",[]),t(this,"maxMetrics",1e3),t(this,"config"),this.config=e}addMetric(e){Math.random()>this.config.sampleRate||(this.metrics.push({...e,timestamp:Date.now()}),this.metrics.length>this.maxMetrics&&(this.metrics=this.metrics.slice(-this.maxMetrics)))}getMetrics(){return[...this.metrics]}getAverageMetrics(e=3e5){const t=Date.now(),r=this.metrics.filter(r=>r.timestamp>t-e);if(0===r.length)return{};const a=r.reduce((e,t)=>({renderTime:e.renderTime+t.renderTime,componentCount:e.componentCount+t.componentCount,reRenderCount:e.reRenderCount+t.reRenderCount,loadTime:e.loadTime+t.loadTime,interactionToNext:e.interactionToNext+t.interactionToNext,inputDelay:e.inputDelay+t.inputDelay,dbOperationTime:e.dbOperationTime+t.dbOperationTime,recordCount:e.recordCount+t.recordCount}),{renderTime:0,componentCount:0,reRenderCount:0,loadTime:0,interactionToNext:0,inputDelay:0,dbOperationTime:0,recordCount:0}),n=r.length;return{renderTime:a.renderTime/n,componentCount:a.componentCount/n,reRenderCount:a.reRenderCount/n,loadTime:a.loadTime/n,interactionToNext:a.interactionToNext/n,inputDelay:a.inputDelay/n,dbOperationTime:a.dbOperationTime/n,recordCount:a.recordCount/n}}clearMetrics(){this.metrics=[]}};class at{constructor(){t(this,"renderStartTimes",new Map),t(this,"componentCounts",new Map),t(this,"reRenderCounts",new Map)}startRender(e){}endRender(e){}trackReRender(e,t){}getStats(){const e={};for(const[t,r]of this.componentCounts)e[t]={count:r,reRenders:this.reRenderCounts.get(t)||0};return e}clearStats(){this.renderStartTimes.clear(),this.componentCounts.clear(),this.reRenderCounts.clear()}}class nt{constructor(){t(this,"lastMemoryCheck",0),t(this,"memoryCheckInterval",5e3)}getCurrentMemoryUsage(){try{if("undefined"!=typeof performance&&"memory"in performance){const e=performance.memory;if(e)return{used:Math.round(e.usedJSHeapSize/1024/1024),total:Math.round(e.totalJSHeapSize/1024/1024),limit:Math.round(e.jsHeapSizeLimit/1024/1024)}}}catch(e){}return null}checkMemoryUsage(){const e=Date.now();if(e-this.lastMemoryCheck<this.memoryCheckInterval)return;this.lastMemoryCheck=e;const t=this.getCurrentMemoryUsage();if(t){const e=t.used/t.limit*100;e>80&&(t.used,e.toFixed(1)),t.used,t.limit,e.toFixed(1)}}startMemoryMonitoring(){}}class ot{constructor(){t(this,"operationStartTimes",new Map)}startOperation(e,t){this.operationStartTimes.set(e,performance.now())}endOperation(e,t,r){const a=this.operationStartTimes.get(e);if(a){const t=performance.now()-a;return this.operationStartTimes.delete(e),t>100&&t.toFixed(2),t.toFixed(2),t}return 0}}class it{constructor(){t(this,"interactionStartTimes",new Map)}startInteraction(e){const t=`${e}-${Date.now()}`;return this.interactionStartTimes.set(t,performance.now()),t}endInteraction(e,t){const r=this.interactionStartTimes.get(e);if(r){const t=performance.now()-r;return this.interactionStartTimes.delete(e),t>100&&t.toFixed(2),t.toFixed(2),t}return 0}}const st=new class{constructor(e=tt){t(this,"renderTracker",new at),t(this,"memoryTracker",new nt),t(this,"dbTracker",new ot),t(this,"interactionTracker",new it),t(this,"config"),t(this,"reportingInterval"),t(this,"trackRender",{start:e=>{this.config.enableRenderTracking&&this.renderTracker.startRender(e)},end:e=>{this.config.enableRenderTracking&&this.renderTracker.endRender(e)},reRender:(e,t)=>{this.config.enableRenderTracking&&this.renderTracker.trackReRender(e,t)}}),t(this,"trackDatabase",{start:(e,t)=>{this.config.enableDatabaseTracking&&this.dbTracker.startOperation(e,t)},end:(e,t,r)=>this.config.enableDatabaseTracking?this.dbTracker.endOperation(e,t,r):0}),t(this,"trackInteraction",{start:e=>this.config.enableInteractionTracking?this.interactionTracker.startInteraction(e):"",end:(e,t)=>this.config.enableInteractionTracking?this.interactionTracker.endInteraction(e,t):0}),this.config=e}startMonitoring(){this.config.enableMemoryTracking&&this.memoryTracker.startMemoryMonitoring(),this.reportingInterval=setInterval(()=>{this.generateReport()},this.config.reportInterval)}stopMonitoring(){this.reportingInterval&&(clearInterval(this.reportingInterval),this.reportingInterval=void 0)}generateReport(){}getRecommendations(e,t){const r=[];for(const[a,n]of Object.entries(e))n.reRenders>10&&r.push(`Consider React.memo for ${a} (${n.reRenders} re-renders)`);if(t){const e=t.used/t.limit*100;e>70&&r.push(`High memory usage (${e.toFixed(1)}%) - consider data cleanup`)}return r}getMetrics(){return rt.getMetrics()}clearMetrics(){rt.clearMetrics(),this.renderTracker.clearStats()}updateConfig(e){this.config={...this.config,...e}}};function lt(e,t,r){const a=`${e}-${Date.now()}-${Math.random().toString(36).substr(2,9)}`;return st.trackDatabase.start(a,e),t(a).then(t=>(st.trackDatabase.end(a,e,r),t)).catch(t=>{throw st.trackDatabase.end(a,e,r),t})}function dt(e){if(!/^\d{4}-\d{2}-\d{2}$/.test(e))return!1;const t=new Date(e);return!isNaN(t.getTime())&&t.toISOString().slice(0,10)===e}function ct(e){return/^([01]\d|2[0-3]):([0-5]\d)$/.test(e)}function ut(e,t,r){const a=[];if((null==r?void 0:r.required)&&(null==e||""===e))return a.push("この項目は必須です"),{isValid:!1,errors:a};let n;try{switch(t){case"number":if("string"==typeof e&&""===e.trim())n=void 0;else{const t="string"==typeof e?parseFloat(e):Number(e);if(isNaN(t))return a.push("数値を入力してください"),{isValid:!1,errors:a};n=t}break;case"string":n=String(e);break;case"boolean":n="boolean"==typeof e?e:"string"==typeof e?"true"===e||"1"===e:Boolean(e);break;default:return a.push("未知のフィールドタイプです"),{isValid:!1,errors:a}}}catch(o){return a.push("値の変換に失敗しました"),{isValid:!1,errors:a}}if("number"===t&&"number"==typeof n&&(void 0!==(null==r?void 0:r.min)&&n<r.min&&a.push(`${r.min}以上の値を入力してください`),void 0!==(null==r?void 0:r.max)&&n>r.max&&a.push(`${r.max}以下の値を入力してください`)),"string"===t&&"string"==typeof n&&(null==r?void 0:r.pattern)&&(r.pattern.test(n)||a.push("入力形式が正しくありません")),null==r?void 0:r.customValidator){const e=r.customValidator(n);e&&a.push(e)}return{isValid:0===a.length,data:n,errors:a}}function ht(e){const t=[],r=[];return e.forEach((e,a)=>{const n=function(e){const t=[];if("object"!=typeof e||null===e)return t.push("レコードデータが無効です"),{isValid:!1,errors:t};const r=e;return"string"==typeof r.id&&0!==r.id.length||t.push("IDが無効です"),"string"==typeof r.date&&dt(r.date)||t.push("日付形式が無効です (YYYY-MM-DD)"),"string"==typeof r.time&&ct(r.time)||t.push("時刻形式が無効です (HH:mm)"),"string"==typeof r.datetime&&0!==r.datetime.length||t.push("日時が無効です"),"string"==typeof r.fieldId&&0!==r.fieldId.length||t.push("フィールドIDが無効です"),void 0===r.value?t.push("値が設定されていません"):"number"!=typeof r.value&&"string"!=typeof r.value&&"boolean"!=typeof r.value&&t.push("値の型が無効です"),{isValid:0===t.length,data:0===t.length?r:void 0,errors:t}}(e);n.isValid&&n.data?r.push(n.data):t.push(`レコード[${a}]: ${n.errors.join(", ")}`)}),{isValid:0===t.length,data:r,errors:t}}const pt="records",gt="fields";var ft=(e=>(e.CONNECTION_FAILED="connection_failed",e.TRANSACTION_FAILED="transaction_failed",e.DATA_CORRUPTED="data_corrupted",e.QUOTA_EXCEEDED="quota_exceeded",e.VERSION_ERROR="version_error",e.UNKNOWN="unknown",e))(ft||{});class mt extends Error{constructor(e,t,r,a=!0){super(t),this.type=e,this.originalError=r,this.retryable=a,this.name="DbError"}}async function vt(e,t,r){const a=`${e}-${Date.now()}-${Math.random().toString(36).substr(2,9)}`;st.trackDatabase.start(a,e);try{const n=await t();st.trackDatabase.end(a,e,r);return n}catch(n){throw st.trackDatabase.end(a,e,r),n}}function yt(e){if(e instanceof mt)return e;if(e instanceof DOMException)switch(e.name){case"QuotaExceededError":return new mt("quota_exceeded","ストレージ容量が不足しています",e,!1);case"VersionError":return new mt("version_error","データベースのバージョンが競合しています",e,!1);case"InvalidStateError":case"TransactionInactiveError":return new mt("transaction_failed","データベーストランザクションが失敗しました",e);case"DataError":case"ConstraintError":return new mt("data_corrupted","データが破損しているか、制約違反です",e,!1);default:return new mt("unknown",`データベースエラー: ${e.message}`,e)}return new mt("connection_failed","データベース接続に失敗しました",e)}async function bt(e,t=3,r=1e3){let a;for(let o=1;o<=t;o++)try{return await e()}catch(n){if(a=yt(n),!a.retryable)throw a;if(o===t)throw a;await new Promise(e=>setTimeout(e,r*o))}throw a}async function xt(e,t,r){return bt(async()=>{const a=await bt(()=>new Promise((e,t)=>{try{const r=indexedDB.open("aloe-wellness-log",1);r.onupgradeneeded=()=>{const e=r.result;if(!e.objectStoreNames.contains(pt)){const t=e.createObjectStore(pt,{keyPath:"id"});t.createIndex("dateIndex","date",{unique:!1}),t.createIndex("fieldIdIndex","fieldId",{unique:!1})}e.objectStoreNames.contains(gt)||e.createObjectStore(gt,{keyPath:"fieldId"}).createIndex("orderIndex","order",{unique:!1})},r.onsuccess=()=>{const t=r.result;t.onerror=e=>{},t.onclose=()=>{},e(t)},r.onerror=()=>{t(new mt("connection_failed","データベースを開けませんでした",r.error))},r.onblocked=()=>{t(new mt("connection_failed","データベースが他のタブによってブロックされています",void 0,!1))}}catch(r){t(yt(r))}}));return new Promise((n,o)=>{try{const i=a.transaction(e,t),s=setTimeout(()=>{i.abort(),o(new mt("transaction_failed","トランザクションがタイムアウトしました"))},3e4);i.oncomplete=()=>{clearTimeout(s)},i.onerror=()=>{clearTimeout(s),o(yt(i.error))},i.onabort=()=>{clearTimeout(s),o(new mt("transaction_failed","トランザクションが中断されました"))};const l=Array.isArray(e)?e.map(e=>i.objectStore(e)):i.objectStore(e);r(i,l).then(n).catch(o)}catch(i){o(yt(i))}})})}async function wt(){return vt("get-all-records",async()=>xt(pt,"readonly",async(e,t)=>{const r=t;return new Promise((e,t)=>{const a=r.getAll();a.onsuccess=()=>{const t=a.result;if(Array.isArray(t)){const r=function(e){const t=ht(e);return t.isValid,t.data||[]}(t);e(r)}else e([])},a.onerror=()=>t(yt(a.error))})}))}async function Nt(){return vt("get-all-fields",async()=>xt(gt,"readonly",async(e,t)=>{const r=t;return new Promise((e,t)=>{const a=r.getAll();a.onsuccess=()=>{const t=a.result;if(Array.isArray(t)){const r=function(e){const t=function(e){const t=[],r=[];return e.forEach((e,a)=>{const n=function(e){const t=[];if("object"!=typeof e||null===e)return t.push("フィールドデータが無効です"),{isValid:!1,errors:t};const r=e;if("string"==typeof r.fieldId&&0!==r.fieldId.length||t.push("フィールドIDが無効です"),"string"==typeof r.name&&0!==r.name.length||t.push("フィールド名が無効です"),"string"==typeof r.type&&["number","string","boolean"].includes(r.type)||t.push("フィールドタイプが無効です"),void 0!==r.unit&&"string"!=typeof r.unit&&t.push("単位が無効です"),void 0!==r.order&&"number"!=typeof r.order&&t.push("表示順序が無効です"),void 0!==r.defaultDisplay&&"boolean"!=typeof r.defaultDisplay&&t.push("デフォルト表示設定が無効です"),void 0!==r.default&&"string"==typeof r.type)switch(r.type){case"number":"number"!=typeof r.default&&t.push("デフォルト値が数値型と一致しません");break;case"string":"string"!=typeof r.default&&t.push("デフォルト値が文字列型と一致しません");break;case"boolean":"boolean"!=typeof r.default&&t.push("デフォルト値がブール型と一致しません")}return{isValid:0===t.length,data:0===t.length?r:void 0,errors:t}}(e);n.isValid&&n.data?r.push(n.data):t.push(`フィールド[${a}]: ${n.errors.join(", ")}`)}),{isValid:0===t.length,data:r,errors:t}}(e);return t.isValid,t.data||[]}(t);e(r)}else e([])},a.onerror=()=>t(yt(a.error))})}))}async function kt(e){return vt("batch-update-fields",async()=>xt(gt,"readwrite",async(t,r)=>{const a=r;return new Promise((t,r)=>{let n=0;const o=e.length;if(0===o)return void t();const i=()=>{n++,n===o&&t()};for(const s of e){const e=a.put(s);e.onsuccess=i,e.onerror=()=>r(yt(e.error))}})}),e.length)}const St=[{fieldId:"weight",unit:"kg",type:"number",order:1,defaultDisplay:!0},{fieldId:"systolic_bp",unit:"mmHg",type:"number",order:2,defaultDisplay:!0},{fieldId:"diastolic_bp",unit:"mmHg",type:"number",order:3,defaultDisplay:!0},{fieldId:"heart_rate",unit:"bpm",type:"number",order:4,defaultDisplay:!1},{fieldId:"body_temperature",unit:"℃",type:"number",order:5,defaultDisplay:!1},{fieldId:"exercise",type:"boolean",order:6,defaultDisplay:!0},{fieldId:"meal",type:"boolean",order:7,defaultDisplay:!0},{fieldId:"sleep",type:"boolean",order:8,defaultDisplay:!0},{fieldId:"smoke",type:"boolean",order:9,defaultDisplay:!1},{fieldId:"alcohol",type:"boolean",order:10,defaultDisplay:!1}],Ct=[{fieldId:"weight",name:"体重",unit:"kg",type:"number",order:1,defaultDisplay:!0},{fieldId:"systolic_bp",name:"最高血圧",unit:"mmHg",type:"number",order:2,defaultDisplay:!0},{fieldId:"diastolic_bp",name:"最低血圧",unit:"mmHg",type:"number",order:3,defaultDisplay:!0},{fieldId:"heart_rate",name:"心拍数",unit:"bpm",type:"number",order:4,defaultDisplay:!1},{fieldId:"body_temperature",name:"体温",unit:"℃",type:"number",order:5,defaultDisplay:!1},{fieldId:"exercise",name:"運動(早歩き)",type:"boolean",order:6,defaultDisplay:!0},{fieldId:"meal",name:"減食",type:"boolean",order:7,defaultDisplay:!0},{fieldId:"sleep",name:"睡眠(早寝)",type:"boolean",order:8,defaultDisplay:!0},{fieldId:"smoke",name:"禁酒",type:"boolean",order:9,defaultDisplay:!1},{fieldId:"alcohol",name:"節酒",type:"boolean",order:10,defaultDisplay:!1}],Dt=f((e,t)=>({records:[],fields:[],recordsOperation:{loading:!1,error:null},fieldsOperation:{loading:!1,error:null},clearRecordsError:()=>{e(e=>({recordsOperation:{...e.recordsOperation,error:null}}))},clearFieldsError:()=>{e(e=>({fieldsOperation:{...e.fieldsOperation,error:null}}))},loadRecords:async()=>{e(e=>({recordsOperation:{loading:!0,error:null}}));try{const t=await wt();e({records:t,recordsOperation:{loading:!1,error:null}})}catch(t){const r=t instanceof mt?t:new mt(ft.UNKNOWN,"レコード読み込みに失敗しました",t);throw e(e=>({recordsOperation:{loading:!1,error:r}})),r}},addRecord:async t=>{e(e=>({records:[...e.records,t],recordsOperation:{loading:!0,error:null}}));try{await async function(e){return vt("add-record",async()=>xt(pt,"readwrite",async(t,r)=>{const a=r;return new Promise((t,r)=>{const n=a.put(e);n.onsuccess=()=>t(),n.onerror=()=>r(yt(n.error))})}),1)}(t),e(e=>({recordsOperation:{loading:!1,error:null}}))}catch(r){throw e(e=>({records:e.records.filter(e=>e.id!==t.id),recordsOperation:{loading:!1,error:r instanceof mt?r:new mt(ft.UNKNOWN,"レコード追加に失敗しました",r)}})),r}},loadFields:async()=>{e(e=>({fieldsOperation:{loading:!0,error:null}}));try{let t=await Nt(),r=!1;const a={weight:1,systolic_bp:2,diastolic_bp:3,heart_rate:4,body_temperature:5,exercise:6,meal:7,sleep:8,smoke:9,alcohol:10},n={weight:!0,systolic_bp:!0,diastolic_bp:!0,heart_rate:!1,body_temperature:!1,exercise:!0,meal:!0,sleep:!0,smoke:!1,alcohol:!1},o=t.map(e=>{const t={...e};if(void 0===e.order){const n=a[e.fieldId];r=!0,t.order=n||999}if(void 0===e.defaultDisplay){r=!0;const a=n[e.fieldId];t.defaultDisplay=void 0===a||a}return t});r&&(await kt(o),t=o),e({fields:t,fieldsOperation:{loading:!1,error:null}})}catch(t){const r=t instanceof mt?t:new mt(ft.UNKNOWN,"フィールド読み込みに失敗しました",t);throw e(e=>({fieldsOperation:{loading:!1,error:r}})),r}},addField:async t=>{e(e=>({fields:[...e.fields,t],fieldsOperation:{loading:!0,error:null}}));try{await async function(e){return vt("add-field",async()=>xt(gt,"readwrite",async(t,r)=>{const a=r;return new Promise((t,r)=>{const n=a.put(e);n.onsuccess=()=>t(),n.onerror=()=>r(yt(n.error))})}),1)}(t),e(e=>({fieldsOperation:{loading:!1,error:null}}))}catch(r){throw e(e=>({fields:e.fields.filter(e=>e.fieldId!==t.fieldId),fieldsOperation:{loading:!1,error:r instanceof mt?r:new mt(ft.UNKNOWN,"フィールド追加に失敗しました",r)}})),r}},initializeFields:async()=>{0===(await Nt()).length&&(await kt(Ct),e({fields:Ct}))},initializeFieldsWithTranslation:async t=>{0===(await Nt()).length&&(await kt(St.map(e=>({...e,name:t(e.fieldId)}))),e({fields:St.map(e=>({...e,name:t(e.fieldId)}))}))},updateField:async r=>{const a=t().fields;e(e=>({fields:e.fields.map(e=>e.fieldId===r.fieldId?r:e),fieldsOperation:{loading:!0,error:null}}));try{await async function(e){return vt("update-field",async()=>xt(gt,"readwrite",async(t,r)=>{const a=r;return new Promise((t,r)=>{const n=a.put(e);n.onsuccess=()=>t(),n.onerror=()=>r(yt(n.error))})}),1)}(r),e(e=>({fieldsOperation:{loading:!1,error:null}}))}catch(n){throw e({fields:a,fieldsOperation:{loading:!1,error:n instanceof mt?n:new mt(ft.UNKNOWN,"フィールド更新に失敗しました",n)}}),n}},updateRecord:async r=>{const a=t().records;e(e=>({records:e.records.map(e=>e.id===r.id?r:e),recordsOperation:{loading:!0,error:null}}));try{await async function(e){return vt("update-record",async()=>xt(pt,"readwrite",async(t,r)=>{const a=r;return new Promise((t,r)=>{const n=a.put(e);n.onsuccess=()=>t(),n.onerror=()=>r(yt(n.error))})}),1)}(r),e(e=>({recordsOperation:{loading:!1,error:null}}))}catch(n){throw e({records:a,recordsOperation:{loading:!1,error:n instanceof mt?n:new mt(ft.UNKNOWN,"レコード更新に失敗しました",n)}}),n}},deleteRecord:async r=>{const a=t().records,n=a.find(e=>e.id===r);e(e=>({records:e.records.filter(e=>e.id!==r),recordsOperation:{loading:!0,error:null}}));try{await async function(e){return vt("delete-record",async()=>xt(pt,"readwrite",async(t,r)=>{const a=r;return new Promise((t,r)=>{const n=a.delete(e);n.onsuccess=()=>t(),n.onerror=()=>r(yt(n.error))})}),1)}(r),e(e=>({recordsOperation:{loading:!1,error:null}}))}catch(o){throw e({records:n?[...a]:a,recordsOperation:{loading:!1,error:o instanceof mt?o:new mt(ft.UNKNOWN,"レコード削除に失敗しました",o)}}),o}},deleteField:async r=>{const a=t().fields,n=a.find(e=>e.fieldId===r);e(e=>({fields:e.fields.filter(e=>e.fieldId!==r),fieldsOperation:{loading:!0,error:null}}));try{await async function(e){return vt("delete-field",async()=>xt(gt,"readwrite",async(t,r)=>{const a=r;return new Promise((t,r)=>{const n=a.delete(e);n.onsuccess=()=>t(),n.onerror=()=>r(yt(n.error))})}),1)}(r),e(e=>({fieldsOperation:{loading:!1,error:null}}))}catch(o){throw e({fields:n?[...a]:a,fieldsOperation:{loading:!1,error:o instanceof mt?o:new mt(ft.UNKNOWN,"フィールド削除に失敗しました",o)}}),o}},deleteAllRecords:async()=>{const r=t().records;e({records:[],recordsOperation:{loading:!0,error:null}});try{await async function(){return vt("delete-all-records",async()=>xt(pt,"readwrite",async(e,t)=>{const r=t;return new Promise((e,t)=>{const a=r.clear();a.onsuccess=()=>e(),a.onerror=()=>t(yt(a.error))})}))}(),e(e=>({recordsOperation:{loading:!1,error:null}}))}catch(a){throw e({records:r,recordsOperation:{loading:!1,error:a instanceof mt?a:new mt(ft.UNKNOWN,"全レコード削除に失敗しました",a)}}),a}},deleteAllFields:async()=>{const r=t().fields;e({fields:[],fieldsOperation:{loading:!0,error:null}});try{await async function(){return vt("delete-all-fields",async()=>xt(gt,"readwrite",async(e,t)=>{const r=t;return new Promise((e,t)=>{const a=r.clear();a.onsuccess=()=>e(),a.onerror=()=>t(yt(a.error))})}))}(),e(e=>({fieldsOperation:{loading:!1,error:null}}))}catch(a){throw e({fields:r,fieldsOperation:{loading:!1,error:a instanceof mt?a:new mt(ft.UNKNOWN,"全フィールド削除に失敗しました",a)}}),a}},deleteAllData:async()=>{const r=t().records,a=t().fields;e({records:[],fields:[],recordsOperation:{loading:!0,error:null},fieldsOperation:{loading:!0,error:null}});try{await async function(){return vt("delete-all-data",async()=>xt([pt,gt],"readwrite",async(e,t)=>{const[r,a]=t;return new Promise((e,t)=>{let n=0;const o=()=>{n++,2===n&&e()},i=r.clear();i.onsuccess=o,i.onerror=()=>t(yt(i.error));const s=a.clear();s.onsuccess=o,s.onerror=()=>t(yt(s.error))})}))}(),e({recordsOperation:{loading:!1,error:null},fieldsOperation:{loading:!1,error:null}})}catch(n){const t=n instanceof mt?n:new mt(ft.UNKNOWN,"全データ削除に失敗しました",n);throw e({records:r,fields:a,recordsOperation:{loading:!1,error:t},fieldsOperation:{loading:!1,error:t}}),n}},batchUpdateRecords:async r=>{const a=t().records,n=new Map(a.map(e=>[e.id,e]));r.forEach(e=>{n.set(e.id,e)}),e({records:Array.from(n.values()),recordsOperation:{loading:!0,error:null}});try{await async function(e){return vt("batch-update-records",async()=>xt(pt,"readwrite",async(t,r)=>{const a=r;return new Promise((t,r)=>{let n=0;const o=e.length;if(0===o)return void t();const i=()=>{n++,n===o&&t()};for(const s of e){const e=a.put(s);e.onsuccess=i,e.onerror=()=>r(yt(e.error))}})}),e.length)}(r),e(e=>({recordsOperation:{loading:!1,error:null}}))}catch(o){throw e({records:a,recordsOperation:{loading:!1,error:o instanceof mt?o:new mt(ft.UNKNOWN,"バッチレコード更新に失敗しました",o)}}),o}},batchUpdateFields:async r=>{const a=t().fields,n=new Map(a.map(e=>[e.fieldId,e]));r.forEach(e=>{n.set(e.fieldId,e)}),e({fields:Array.from(n.values()),fieldsOperation:{loading:!0,error:null}});try{await kt(r),e(e=>({fieldsOperation:{loading:!1,error:null}}))}catch(o){throw e({fields:a,fieldsOperation:{loading:!1,error:o instanceof mt?o:new mt(ft.UNKNOWN,"バッチフィールド更新に失敗しました",o)}}),o}}})),Lt=o.lazy(()=>x(()=>import("./RecordInput-aBLYp-XW.js"),__vite__mapDeps([0,1,2,3,4,5])).then(e=>e).catch(e=>({default:function(){const{t:e}=ve();return r.jsxs("div",{className:"p-8 text-center",children:[r.jsx("h2",{className:"text-xl font-bold text-red-600 mb-4",children:e("errors.loadingError")}),r.jsx("p",{className:"text-gray-600 mb-4",children:e("errors.inputPageError")}),r.jsx("button",{onClick:()=>window.location.reload(),className:"px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700",children:e("errors.reloadPage")})]})}}))),Et=o.lazy(()=>x(()=>import("./RecordList-YCIivQC9.js"),__vite__mapDeps([6,1,2,4,5])).then(e=>e).catch(e=>({default:function(){const{t:e}=ve();return r.jsxs("div",{className:"p-8 text-center",children:[r.jsx("h2",{className:"text-xl font-bold text-red-600 mb-4",children:e("errors.loadingError")}),r.jsx("p",{className:"text-gray-600 mb-4",children:e("errors.listPageError")}),r.jsx("button",{onClick:()=>window.location.reload(),className:"px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700",children:e("errors.reloadPage")})]})}}))),jt=o.lazy(()=>x(()=>import("./RecordGraph-wbnK_Nkb.js"),__vite__mapDeps([7,1,2,4,5])).then(e=>e).catch(e=>({default:function(){const{t:e}=ve();return r.jsxs("div",{className:"p-8 text-center",children:[r.jsx("h2",{className:"text-xl font-bold text-red-600 mb-4",children:e("errors.loadingError")}),r.jsx("p",{className:"text-gray-600 mb-4",children:e("errors.graphPageError")}),r.jsx("button",{onClick:()=>window.location.reload(),className:"px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700",children:e("errors.reloadPage")})]})}}))),Ot=o.lazy(()=>x(()=>import("./RecordCalendar-BgtNzK0k.js"),__vite__mapDeps([8,1,2,4,5,9])).then(e=>e).catch(e=>({default:function(){const{t:e}=ve();return r.jsxs("div",{className:"p-8 text-center",children:[r.jsx("h2",{className:"text-xl font-bold text-red-600 mb-4",children:e("errors.loadingError")}),r.jsx("p",{className:"text-gray-600 mb-4",children:e("errors.calendarPageError")}),r.jsx("button",{onClick:()=>window.location.reload(),className:"px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700",children:e("errors.reloadPage")})]})}}))),Rt=o.lazy(()=>x(()=>import("./RecordExport-C9xslZAa.js"),__vite__mapDeps([10,1,2,4,5])).then(e=>e).catch(e=>({default:function(){const{t:e}=ve();return r.jsxs("div",{className:"p-8 text-center",children:[r.jsx("h2",{className:"text-xl font-bold text-red-600 mb-4",children:e("errors.loadingError")}),r.jsx("p",{className:"text-gray-600 mb-4",children:e("errors.exportPageError")}),r.jsx("button",{onClick:()=>window.location.reload(),className:"px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700",children:e("errors.reloadPage")})]})}}))),Tt=({pageName:e})=>{const{t:t}=ve();return r.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:r.jsxs("div",{className:"flex flex-col items-center space-y-4",children:[r.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-green-600"}),r.jsx("p",{className:"text-gray-600 font-medium",children:e?t("loading.pageWithName",{pageName:e}):t("loading.page")}),et]})})};function At(){const e=h(),[t,a]=o.useState(!1),{t:n}=ve(),i=()=>{a(!1)};o.useEffect(()=>{const e=e=>{"Escape"===e.key&&t&&i()};return document.addEventListener("keydown",e),()=>{document.removeEventListener("keydown",e)}},[t]),o.useEffect(()=>{if(t){const e=document.body.style.overflow;return document.body.style.overflow="hidden",()=>{document.body.style.overflow=e}}},[t]);const s=[{path:"/",label:n("navigation.input"),color:"green"},{path:"/list",label:n("navigation.list"),color:"blue"},{path:"/graph",label:n("navigation.graph"),color:"blue"},{path:"/calendar",label:n("navigation.calendar"),color:"blue"},{path:"/export",label:n("navigation.management"),color:"purple"}],l=t=>e.pathname===t;return r.jsxs("div",{className:"relative",children:[r.jsx("a",{href:"#main-content",className:"sr-only focus:not-sr-only focus:absolute focus:top-2 focus:left-2 bg-blue-600 text-white px-4 py-2 rounded-lg z-50 font-medium",children:n("app.skipToContent")}),r.jsxs("nav",{className:"hidden md:flex justify-between items-center gap-4 mb-12 p-4 bg-white rounded-lg shadow-lg mx-4 mt-4",role:"navigation","aria-label":n("navigation.goTo",{page:"メイン"}),children:[r.jsx("div",{className:"flex gap-4",children:s.map(e=>r.jsxs(p,{to:e.path,className:("green"===e.color?"bg-green-600 border-green-600 hover:bg-green-700 hover:border-green-700":"purple"===e.color?"bg-purple-600 border-purple-600 hover:bg-purple-700 hover:border-purple-700":"bg-blue-500 border-blue-500 hover:bg-blue-600 hover:border-blue-600")+" !text-white px-4 py-2 rounded-lg shadow-md transition-colors duration-200 font-medium text-base border-2 hover:!text-white visited:!text-white active:!text-white focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500","aria-current":l(e.path)?"page":void 0,"aria-label":n("navigation.goTo",{page:e.label}),children:[e.label,l(e.path)&&r.jsx("span",{className:"sr-only",children:n("navigation.currentPage")})]},e.path))}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(ye,{compact:!0,className:"mr-2"}),r.jsx(Ge,{}),r.jsx(be,{className:"ml-2",debug:!1})]})]}),r.jsxs("div",{className:"md:hidden flex justify-between items-center mb-4 p-4 bg-white rounded-lg shadow-sm mx-4 mt-4",children:[r.jsx("h1",{className:"text-base font-bold text-gray-800 whitespace-nowrap",children:n("app.title")}),r.jsx("div",{className:"flex items-center",children:r.jsx("button",{onClick:()=>{a(!t)},className:"p-2 bg-gray-100 rounded-lg hover:bg-gray-200 transition-colors duration-200 focus:outline-none focus:ring-2 focus:ring-blue-600 focus:ring-offset-2","aria-label":n(t?"navigation.closeMenu":"navigation.openMenu"),"aria-expanded":t,"aria-controls":"mobile-menu",children:r.jsxs("div",{className:"w-6 h-6 flex flex-col justify-center space-y-1",children:[r.jsx("div",{className:"h-0.5 w-6 bg-gray-800 transition-all duration-300 "+(t?"rotate-45 translate-y-1.5":"")}),r.jsx("div",{className:"h-0.5 w-6 bg-gray-800 transition-all duration-300 "+(t?"opacity-0":"")}),r.jsx("div",{className:"h-0.5 w-6 bg-gray-800 transition-all duration-300 "+(t?"-rotate-45 -translate-y-1.5":"")})]})})})]}),t&&r.jsx("div",{id:"mobile-menu",className:"md:hidden absolute top-full left-4 right-4 bg-white rounded-lg shadow-lg z-40 mb-4",role:"dialog","aria-modal":"true","aria-label":n("navigation.mobileNavigation"),children:r.jsx("nav",{role:"navigation","aria-label":n("navigation.mobileMainNavigation"),children:r.jsxs("div",{className:"flex flex-col",children:[s.map((e,t)=>r.jsxs(p,{to:e.path,onClick:i,className:"px-4 py-3 font-medium text-base hover:bg-gray-50 transition-colors duration-200 focus:outline-none focus:ring-2 focus:ring-inset focus:ring-blue-500 border-b border-gray-100 "+("green"===e.color?"!text-green-600 hover:bg-green-50 focus:bg-green-50 hover:!text-green-600 visited:!text-green-600 active:!text-green-600":"purple"===e.color?"!text-purple-600 hover:bg-purple-50 focus:bg-purple-50 hover:!text-purple-600 visited:!text-purple-600 active:!text-purple-600":"!text-blue-500 hover:bg-blue-50 focus:bg-blue-50 hover:!text-blue-500 visited:!text-blue-500 active:!text-blue-500"),"aria-current":l(e.path)?"page":void 0,"aria-label":n("navigation.goTo",{page:e.label}),children:[e.label,l(e.path)&&r.jsx("span",{className:"sr-only",children:n("navigation.currentPage")})]},e.path)),r.jsx("div",{className:"border-t border-gray-200 my-2"}),r.jsx("div",{className:"flex justify-center px-4 py-2",children:r.jsx(ye,{compact:!0})}),r.jsxs("div",{className:"flex justify-center gap-2 px-4 py-3 border-t border-gray-100",children:[r.jsx(Ge,{className:"text-sm px-3 py-2"}),r.jsx(be,{className:"text-sm px-3 py-2",debug:!1})]})]})})}),t&&r.jsx("div",{className:"md:hidden fixed inset-0 z-30 backdrop-blur-sm",style:{backgroundColor:"rgba(0, 0, 0, 0.3)"},onClick:i,"aria-hidden":"true"})]})}function Pt(){const{initializeFields:e,initializeFieldsWithTranslation:t}=Dt(),{t:a,translateFieldName:n}=ve();return o.useEffect(()=>{try{et,t(n)}catch(r){try{e()}catch(a){}}},[e,t,n]),r.jsx(W,{children:r.jsxs("div",{className:"bg-gray-50 min-h-screen",children:[r.jsx(Xe,{}),r.jsxs(l,{children:[r.jsx("header",{role:"banner",children:r.jsx(At,{})}),r.jsx("main",{id:"main-content",role:"main",className:"px-4",tabIndex:-1,children:r.jsx(o.Suspense,{fallback:r.jsx(Tt,{}),children:r.jsxs(d,{children:[r.jsx(c,{path:"/",element:r.jsx(o.Suspense,{fallback:r.jsx(Tt,{pageName:a("pages.input.title")}),children:r.jsx(Lt,{})})}),r.jsx(c,{path:"/list",element:r.jsx(o.Suspense,{fallback:r.jsx(Tt,{pageName:a("pages.list.title")}),children:r.jsx(Et,{})})}),r.jsx(c,{path:"/graph",element:r.jsx(o.Suspense,{fallback:r.jsx(Tt,{pageName:a("pages.graph.title")}),children:r.jsx(jt,{})})}),r.jsx(c,{path:"/calendar",element:r.jsx(o.Suspense,{fallback:r.jsx(Tt,{pageName:a("pages.calendar.title")}),children:r.jsx(Ot,{})})}),r.jsx(c,{path:"/export",element:r.jsx(o.Suspense,{fallback:r.jsx(Tt,{pageName:a("pages.management.title")}),children:r.jsx(Rt,{})})}),r.jsx(c,{path:"*",element:r.jsx(u,{to:"/",replace:!0})})]})})})]})]})})}const Mt=31536e6,It="error";function Ft(e,t,r){if(!("error"===e||"warn"===e&&["debug","info","warn"].includes(It)||"info"===e&&["debug","info"].includes(It)||"debug"===e&&"debug"===It))return;(new Date).toISOString(),e.toUpperCase()}function $t(e,t=Mt){return Date.now()-e>t}async function Bt(){try{Ft("info"),"indexedDB"in window&&await async function(){Ft("debug")}(),function(){const e=[];for(let t=0;t<localStorage.length;t++){const r=localStorage.key(t);if(r){const t=localStorage.getItem(r);if(t)try{const a=JSON.parse(t);a.timestamp&&$t(a.timestamp)&&e.push(r)}catch{(localStorage.getItem(r)&&r.startsWith("cache_")||r.startsWith("temp_"))&&e.push(r)}}}e.forEach(e=>{localStorage.removeItem(e),Ft("debug")})}(),function(){const e=[];for(let t=0;t<sessionStorage.length;t++){const r=sessionStorage.key(t);r&&(r.startsWith("temp_")||r.startsWith("cache_"))&&e.push(r)}e.forEach(e=>{sessionStorage.removeItem(e),Ft("debug")})}(),"serviceWorker"in navigator&&navigator.serviceWorker.controller&&navigator.serviceWorker.controller.postMessage({type:"CLEANUP_EXPIRED_CACHE"}),Ft("info")}catch(e){Ft("error")}}const Vt=e=>"string"==typeof e,_t=()=>{let e,t;const r=new Promise((r,a)=>{e=r,t=a});return r.resolve=e,r.reject=t,r},Ht=e=>null==e?"":""+e,Ut=/###/g,zt=e=>e&&e.indexOf("###")>-1?e.replace(Ut,"."):e,Zt=e=>!e||Vt(e),qt=(e,t,r)=>{const a=Vt(t)?t.split("."):t;let n=0;for(;n<a.length-1;){if(Zt(e))return{};const t=zt(a[n]);!e[t]&&r&&(e[t]=new r),e=Object.prototype.hasOwnProperty.call(e,t)?e[t]:{},++n}return Zt(e)?{}:{obj:e,k:zt(a[n])}},Kt=(e,t,r)=>{const{obj:a,k:n}=qt(e,t,Object);if(void 0!==a||1===t.length)return void(a[n]=r);let o=t[t.length-1],i=t.slice(0,t.length-1),s=qt(e,i,Object);for(;void 0===s.obj&&i.length;)o=`${i[i.length-1]}.${o}`,i=i.slice(0,i.length-1),s=qt(e,i,Object),(null==s?void 0:s.obj)&&void 0!==s.obj[`${s.k}.${o}`]&&(s.obj=void 0);s.obj[`${s.k}.${o}`]=r},Wt=(e,t)=>{const{obj:r,k:a}=qt(e,t);if(r&&Object.prototype.hasOwnProperty.call(r,a))return r[a]},Yt=(e,t,r)=>{for(const a in t)"__proto__"!==a&&"constructor"!==a&&(a in e?Vt(e[a])||e[a]instanceof String||Vt(t[a])||t[a]instanceof String?r&&(e[a]=t[a]):Yt(e[a],t[a],r):e[a]=t[a]);return e},Jt=e=>e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&");var Gt={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};const Qt=e=>Vt(e)?e.replace(/[&<>"'\/]/g,e=>Gt[e]):e;const Xt=[" ",",","?","!",";"],er=new class{constructor(e){this.capacity=e,this.regExpMap=new Map,this.regExpQueue=[]}getRegExp(e){const t=this.regExpMap.get(e);if(void 0!==t)return t;const r=new RegExp(e);return this.regExpQueue.length===this.capacity&&this.regExpMap.delete(this.regExpQueue.shift()),this.regExpMap.set(e,r),this.regExpQueue.push(e),r}}(20),tr=(e,t,r=".")=>{if(!e)return;if(e[t]){if(!Object.prototype.hasOwnProperty.call(e,t))return;return e[t]}const a=t.split(r);let n=e;for(let o=0;o<a.length;){if(!n||"object"!=typeof n)return;let e,t="";for(let i=o;i<a.length;++i)if(i!==o&&(t+=r),t+=a[i],e=n[t],void 0!==e){if(["string","number","boolean"].indexOf(typeof e)>-1&&i<a.length-1)continue;o+=i-o+1;break}n=e}return n},rr=e=>null==e?void 0:e.replace("_","-"),ar={type:"logger",log(e){this.output("log",e)},warn(e){this.output("warn",e)},error(e){this.output("error",e)},output(e,t){var r,a;null==(a=null==(r=null==console?void 0:console[e])?void 0:r.apply)||a.call(r,console,t)}};class nr{constructor(e,t={}){this.init(e,t)}init(e,t={}){this.prefix=t.prefix||"i18next:",this.logger=e||ar,this.options=t,this.debug=t.debug}log(...e){return this.forward(e,"log","",!0)}warn(...e){return this.forward(e,"warn","",!0)}error(...e){return this.forward(e,"error","")}deprecate(...e){return this.forward(e,"warn","WARNING DEPRECATED: ",!0)}forward(e,t,r,a){return a&&!this.debug?null:(Vt(e[0])&&(e[0]=`${r}${this.prefix} ${e[0]}`),this.logger[t](e))}create(e){return new nr(this.logger,{prefix:`${this.prefix}:${e}:`,...this.options})}clone(e){return(e=e||this.options).prefix=e.prefix||this.prefix,new nr(this.logger,e)}}var or=new nr;class ir{constructor(){this.observers={}}on(e,t){return e.split(" ").forEach(e=>{this.observers[e]||(this.observers[e]=new Map);const r=this.observers[e].get(t)||0;this.observers[e].set(t,r+1)}),this}off(e,t){this.observers[e]&&(t?this.observers[e].delete(t):delete this.observers[e])}emit(e,...t){if(this.observers[e]){Array.from(this.observers[e].entries()).forEach(([e,r])=>{for(let a=0;a<r;a++)e(...t)})}if(this.observers["*"]){Array.from(this.observers["*"].entries()).forEach(([r,a])=>{for(let n=0;n<a;n++)r.apply(r,[e,...t])})}}}class sr extends ir{constructor(e,t={ns:["translation"],defaultNS:"translation"}){super(),this.data=e||{},this.options=t,void 0===this.options.keySeparator&&(this.options.keySeparator="."),void 0===this.options.ignoreJSONStructure&&(this.options.ignoreJSONStructure=!0)}addNamespaces(e){this.options.ns.indexOf(e)<0&&this.options.ns.push(e)}removeNamespaces(e){const t=this.options.ns.indexOf(e);t>-1&&this.options.ns.splice(t,1)}getResource(e,t,r,a={}){var n,o;const i=void 0!==a.keySeparator?a.keySeparator:this.options.keySeparator,s=void 0!==a.ignoreJSONStructure?a.ignoreJSONStructure:this.options.ignoreJSONStructure;let l;e.indexOf(".")>-1?l=e.split("."):(l=[e,t],r&&(Array.isArray(r)?l.push(...r):Vt(r)&&i?l.push(...r.split(i)):l.push(r)));const d=Wt(this.data,l);return!d&&!t&&!r&&e.indexOf(".")>-1&&(e=l[0],t=l[1],r=l.slice(2).join(".")),!d&&s&&Vt(r)?tr(null==(o=null==(n=this.data)?void 0:n[e])?void 0:o[t],r,i):d}addResource(e,t,r,a,n={silent:!1}){const o=void 0!==n.keySeparator?n.keySeparator:this.options.keySeparator;let i=[e,t];r&&(i=i.concat(o?r.split(o):r)),e.indexOf(".")>-1&&(i=e.split("."),a=t,t=i[1]),this.addNamespaces(t),Kt(this.data,i,a),n.silent||this.emit("added",e,t,r,a)}addResources(e,t,r,a={silent:!1}){for(const n in r)(Vt(r[n])||Array.isArray(r[n]))&&this.addResource(e,t,n,r[n],{silent:!0});a.silent||this.emit("added",e,t,r)}addResourceBundle(e,t,r,a,n,o={silent:!1,skipCopy:!1}){let i=[e,t];e.indexOf(".")>-1&&(i=e.split("."),a=r,r=t,t=i[1]),this.addNamespaces(t);let s=Wt(this.data,i)||{};o.skipCopy||(r=JSON.parse(JSON.stringify(r))),a?Yt(s,r,n):s={...s,...r},Kt(this.data,i,s),o.silent||this.emit("added",e,t,r)}removeResourceBundle(e,t){this.hasResourceBundle(e,t)&&delete this.data[e][t],this.removeNamespaces(t),this.emit("removed",e,t)}hasResourceBundle(e,t){return void 0!==this.getResource(e,t)}getResourceBundle(e,t){return t||(t=this.options.defaultNS),this.getResource(e,t)}getDataByLanguage(e){return this.data[e]}hasLanguageSomeTranslations(e){const t=this.getDataByLanguage(e);return!!(t&&Object.keys(t)||[]).find(e=>t[e]&&Object.keys(t[e]).length>0)}toJSON(){return this.data}}var lr={processors:{},addPostProcessor(e){this.processors[e.name]=e},handle(e,t,r,a,n){return e.forEach(e=>{var o;t=(null==(o=this.processors[e])?void 0:o.process(t,r,a,n))??t}),t}};const dr={},cr=e=>!Vt(e)&&"boolean"!=typeof e&&"number"!=typeof e;class ur extends ir{constructor(e,t={}){var r,a;super(),r=e,a=this,["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"].forEach(e=>{r[e]&&(a[e]=r[e])}),this.options=t,void 0===this.options.keySeparator&&(this.options.keySeparator="."),this.logger=or.create("translator")}changeLanguage(e){e&&(this.language=e)}exists(e,t={interpolation:{}}){const r={...t};if(null==e)return!1;const a=this.resolve(e,r);return void 0!==(null==a?void 0:a.res)}extractFromKey(e,t){let r=void 0!==t.nsSeparator?t.nsSeparator:this.options.nsSeparator;void 0===r&&(r=":");const a=void 0!==t.keySeparator?t.keySeparator:this.options.keySeparator;let n=t.ns||this.options.defaultNS||[];const o=r&&e.indexOf(r)>-1,i=!(this.options.userDefinedKeySeparator||t.keySeparator||this.options.userDefinedNsSeparator||t.nsSeparator||((e,t,r)=>{t=t||"",r=r||"";const a=Xt.filter(e=>t.indexOf(e)<0&&r.indexOf(e)<0);if(0===a.length)return!0;const n=er.getRegExp(`(${a.map(e=>"?"===e?"\\?":e).join("|")})`);let o=!n.test(e);if(!o){const t=e.indexOf(r);t>0&&!n.test(e.substring(0,t))&&(o=!0)}return o})(e,r,a));if(o&&!i){const t=e.match(this.interpolator.nestingRegexp);if(t&&t.length>0)return{key:e,namespaces:Vt(n)?[n]:n};const o=e.split(r);(r!==a||r===a&&this.options.ns.indexOf(o[0])>-1)&&(n=o.shift()),e=o.join(a)}return{key:e,namespaces:Vt(n)?[n]:n}}translate(e,t,r){let a="object"==typeof t?{...t}:t;if("object"!=typeof a&&this.options.overloadTranslationOptionHandler&&(a=this.options.overloadTranslationOptionHandler(arguments)),"object"==typeof options&&(a={...a}),a||(a={}),null==e)return"";Array.isArray(e)||(e=[String(e)]);const n=void 0!==a.returnDetails?a.returnDetails:this.options.returnDetails,o=void 0!==a.keySeparator?a.keySeparator:this.options.keySeparator,{key:i,namespaces:s}=this.extractFromKey(e[e.length-1],a),l=s[s.length-1];let d=void 0!==a.nsSeparator?a.nsSeparator:this.options.nsSeparator;void 0===d&&(d=":");const c=a.lng||this.language,u=a.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if("cimode"===(null==c?void 0:c.toLowerCase()))return u?n?{res:`${l}${d}${i}`,usedKey:i,exactUsedKey:i,usedLng:c,usedNS:l,usedParams:this.getUsedParamsDetails(a)}:`${l}${d}${i}`:n?{res:i,usedKey:i,exactUsedKey:i,usedLng:c,usedNS:l,usedParams:this.getUsedParamsDetails(a)}:i;const h=this.resolve(e,a);let p=null==h?void 0:h.res;const g=(null==h?void 0:h.usedKey)||i,f=(null==h?void 0:h.exactUsedKey)||i,m=void 0!==a.joinArrays?a.joinArrays:this.options.joinArrays,v=!this.i18nFormat||this.i18nFormat.handleAsObject,y=void 0!==a.count&&!Vt(a.count),b=ur.hasDefaultValue(a),x=y?this.pluralResolver.getSuffix(c,a.count,a):"",w=a.ordinal&&y?this.pluralResolver.getSuffix(c,a.count,{ordinal:!1}):"",N=y&&!a.ordinal&&0===a.count,k=N&&a[`defaultValue${this.options.pluralSeparator}zero`]||a[`defaultValue${x}`]||a[`defaultValue${w}`]||a.defaultValue;let S=p;v&&!p&&b&&(S=k);const C=cr(S),D=Object.prototype.toString.apply(S);if(!(v&&S&&C&&["[object Number]","[object Function]","[object RegExp]"].indexOf(D)<0)||Vt(m)&&Array.isArray(S))if(v&&Vt(m)&&Array.isArray(p))p=p.join(m),p&&(p=this.extendTranslation(p,e,a,r));else{let t=!1,n=!1;!this.isValidLookup(p)&&b&&(t=!0,p=k),this.isValidLookup(p)||(n=!0,p=i);const s=(a.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey)&&n?void 0:p,u=b&&k!==p&&this.options.updateMissing;if(n||t||u){if(this.logger.log(u?"updateKey":"missingKey",c,l,i,u?k:p),o){const e=this.resolve(i,{...a,keySeparator:!1});e&&e.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}let e=[];const t=this.languageUtils.getFallbackCodes(this.options.fallbackLng,a.lng||this.language);if("fallback"===this.options.saveMissingTo&&t&&t[0])for(let a=0;a<t.length;a++)e.push(t[a]);else"all"===this.options.saveMissingTo?e=this.languageUtils.toResolveHierarchy(a.lng||this.language):e.push(a.lng||this.language);const r=(e,t,r)=>{var n;const o=b&&r!==p?r:s;this.options.missingKeyHandler?this.options.missingKeyHandler(e,l,t,o,u,a):(null==(n=this.backendConnector)?void 0:n.saveMissing)&&this.backendConnector.saveMissing(e,l,t,o,u,a),this.emit("missingKey",e,l,t,p)};this.options.saveMissing&&(this.options.saveMissingPlurals&&y?e.forEach(e=>{const t=this.pluralResolver.getSuffixes(e,a);N&&a[`defaultValue${this.options.pluralSeparator}zero`]&&t.indexOf(`${this.options.pluralSeparator}zero`)<0&&t.push(`${this.options.pluralSeparator}zero`),t.forEach(t=>{r([e],i+t,a[`defaultValue${t}`]||k)})}):r(e,i,k))}p=this.extendTranslation(p,e,a,h,r),n&&p===i&&this.options.appendNamespaceToMissingKey&&(p=`${l}${d}${i}`),(n||t)&&this.options.parseMissingKeyHandler&&(p=this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?`${l}${d}${i}`:i,t?p:void 0,a))}else{if(!a.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");const e=this.options.returnedObjectHandler?this.options.returnedObjectHandler(g,S,{...a,ns:s}):`key '${i} (${this.language})' returned an object instead of string.`;return n?(h.res=e,h.usedParams=this.getUsedParamsDetails(a),h):e}if(o){const e=Array.isArray(S),t=e?[]:{},r=e?f:g;for(const n in S)if(Object.prototype.hasOwnProperty.call(S,n)){const e=`${r}${o}${n}`;t[n]=b&&!p?this.translate(e,{...a,defaultValue:cr(k)?k[n]:void 0,joinArrays:!1,ns:s}):this.translate(e,{...a,joinArrays:!1,ns:s}),t[n]===e&&(t[n]=S[n])}p=t}}return n?(h.res=p,h.usedParams=this.getUsedParamsDetails(a),h):p}extendTranslation(e,t,r,a,n){var o,i;if(null==(o=this.i18nFormat)?void 0:o.parse)e=this.i18nFormat.parse(e,{...this.options.interpolation.defaultVariables,...r},r.lng||this.language||a.usedLng,a.usedNS,a.usedKey,{resolved:a});else if(!r.skipInterpolation){r.interpolation&&this.interpolator.init({...r,interpolation:{...this.options.interpolation,...r.interpolation}});const o=Vt(e)&&(void 0!==(null==(i=null==r?void 0:r.interpolation)?void 0:i.skipOnVariables)?r.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables);let s;if(o){const t=e.match(this.interpolator.nestingRegexp);s=t&&t.length}let l=r.replace&&!Vt(r.replace)?r.replace:r;if(this.options.interpolation.defaultVariables&&(l={...this.options.interpolation.defaultVariables,...l}),e=this.interpolator.interpolate(e,l,r.lng||this.language||a.usedLng,r),o){const t=e.match(this.interpolator.nestingRegexp);s<(t&&t.length)&&(r.nest=!1)}!r.lng&&a&&a.res&&(r.lng=this.language||a.usedLng),!1!==r.nest&&(e=this.interpolator.nest(e,(...e)=>(null==n?void 0:n[0])!==e[0]||r.context?this.translate(...e,t):(this.logger.warn(`It seems you are nesting recursively key: ${e[0]} in key: ${t[0]}`),null),r)),r.interpolation&&this.interpolator.reset()}const s=r.postProcess||this.options.postProcess,l=Vt(s)?[s]:s;return null!=e&&(null==l?void 0:l.length)&&!1!==r.applyPostProcessor&&(e=lr.handle(l,e,t,this.options&&this.options.postProcessPassResolved?{i18nResolved:{...a,usedParams:this.getUsedParamsDetails(r)},...r}:r,this)),e}resolve(e,t={}){let r,a,n,o,i;return Vt(e)&&(e=[e]),e.forEach(e=>{if(this.isValidLookup(r))return;const s=this.extractFromKey(e,t),l=s.key;a=l;let d=s.namespaces;this.options.fallbackNS&&(d=d.concat(this.options.fallbackNS));const c=void 0!==t.count&&!Vt(t.count),u=c&&!t.ordinal&&0===t.count,h=void 0!==t.context&&(Vt(t.context)||"number"==typeof t.context)&&""!==t.context,p=t.lngs?t.lngs:this.languageUtils.toResolveHierarchy(t.lng||this.language,t.fallbackLng);d.forEach(e=>{var s,d;this.isValidLookup(r)||(i=e,dr[`${p[0]}-${e}`]||!(null==(s=this.utils)?void 0:s.hasLoadedNamespace)||(null==(d=this.utils)?void 0:d.hasLoadedNamespace(i))||(dr[`${p[0]}-${e}`]=!0,this.logger.warn(`key "${a}" for languages "${p.join(", ")}" won't get resolved as namespace "${i}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),p.forEach(a=>{var i;if(this.isValidLookup(r))return;o=a;const s=[l];if(null==(i=this.i18nFormat)?void 0:i.addLookupKeys)this.i18nFormat.addLookupKeys(s,l,a,e,t);else{let e;c&&(e=this.pluralResolver.getSuffix(a,t.count,t));const r=`${this.options.pluralSeparator}zero`,n=`${this.options.pluralSeparator}ordinal${this.options.pluralSeparator}`;if(c&&(s.push(l+e),t.ordinal&&0===e.indexOf(n)&&s.push(l+e.replace(n,this.options.pluralSeparator)),u&&s.push(l+r)),h){const a=`${l}${this.options.contextSeparator}${t.context}`;s.push(a),c&&(s.push(a+e),t.ordinal&&0===e.indexOf(n)&&s.push(a+e.replace(n,this.options.pluralSeparator)),u&&s.push(a+r))}}let d;for(;d=s.pop();)this.isValidLookup(r)||(n=d,r=this.getResource(a,e,d,t))}))})}),{res:r,usedKey:a,exactUsedKey:n,usedLng:o,usedNS:i}}isValidLookup(e){return!(void 0===e||!this.options.returnNull&&null===e||!this.options.returnEmptyString&&""===e)}getResource(e,t,r,a={}){var n;return(null==(n=this.i18nFormat)?void 0:n.getResource)?this.i18nFormat.getResource(e,t,r,a):this.resourceStore.getResource(e,t,r,a)}getUsedParamsDetails(e={}){const t=["defaultValue","ordinal","context","replace","lng","lngs","fallbackLng","ns","keySeparator","nsSeparator","returnObjects","returnDetails","joinArrays","postProcess","interpolation"],r=e.replace&&!Vt(e.replace);let a=r?e.replace:e;if(r&&void 0!==e.count&&(a.count=e.count),this.options.interpolation.defaultVariables&&(a={...this.options.interpolation.defaultVariables,...a}),!r){a={...a};for(const e of t)delete a[e]}return a}static hasDefaultValue(e){const t="defaultValue";for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&t===r.substring(0,12)&&void 0!==e[r])return!0;return!1}}class hr{constructor(e){this.options=e,this.supportedLngs=this.options.supportedLngs||!1,this.logger=or.create("languageUtils")}getScriptPartFromCode(e){if(!(e=rr(e))||e.indexOf("-")<0)return null;const t=e.split("-");return 2===t.length?null:(t.pop(),"x"===t[t.length-1].toLowerCase()?null:this.formatLanguageCode(t.join("-")))}getLanguagePartFromCode(e){if(!(e=rr(e))||e.indexOf("-")<0)return e;const t=e.split("-");return this.formatLanguageCode(t[0])}formatLanguageCode(e){if(Vt(e)&&e.indexOf("-")>-1){let r;try{r=Intl.getCanonicalLocales(e)[0]}catch(t){}return r&&this.options.lowerCaseLng&&(r=r.toLowerCase()),r||(this.options.lowerCaseLng?e.toLowerCase():e)}return this.options.cleanCode||this.options.lowerCaseLng?e.toLowerCase():e}isSupportedCode(e){return("languageOnly"===this.options.load||this.options.nonExplicitSupportedLngs)&&(e=this.getLanguagePartFromCode(e)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(e)>-1}getBestMatchFromCodes(e){if(!e)return null;let t;return e.forEach(e=>{if(t)return;const r=this.formatLanguageCode(e);this.options.supportedLngs&&!this.isSupportedCode(r)||(t=r)}),!t&&this.options.supportedLngs&&e.forEach(e=>{if(t)return;const r=this.getScriptPartFromCode(e);if(this.isSupportedCode(r))return t=r;const a=this.getLanguagePartFromCode(e);if(this.isSupportedCode(a))return t=a;t=this.options.supportedLngs.find(e=>e===a?e:e.indexOf("-")<0&&a.indexOf("-")<0?void 0:e.indexOf("-")>0&&a.indexOf("-")<0&&e.substring(0,e.indexOf("-"))===a||0===e.indexOf(a)&&a.length>1?e:void 0)}),t||(t=this.getFallbackCodes(this.options.fallbackLng)[0]),t}getFallbackCodes(e,t){if(!e)return[];if("function"==typeof e&&(e=e(t)),Vt(e)&&(e=[e]),Array.isArray(e))return e;if(!t)return e.default||[];let r=e[t];return r||(r=e[this.getScriptPartFromCode(t)]),r||(r=e[this.formatLanguageCode(t)]),r||(r=e[this.getLanguagePartFromCode(t)]),r||(r=e.default),r||[]}toResolveHierarchy(e,t){const r=this.getFallbackCodes((!1===t?[]:t)||this.options.fallbackLng||[],e),a=[],n=e=>{e&&(this.isSupportedCode(e)?a.push(e):this.logger.warn(`rejecting language code not found in supportedLngs: ${e}`))};return Vt(e)&&(e.indexOf("-")>-1||e.indexOf("_")>-1)?("languageOnly"!==this.options.load&&n(this.formatLanguageCode(e)),"languageOnly"!==this.options.load&&"currentOnly"!==this.options.load&&n(this.getScriptPartFromCode(e)),"currentOnly"!==this.options.load&&n(this.getLanguagePartFromCode(e))):Vt(e)&&n(this.formatLanguageCode(e)),r.forEach(e=>{a.indexOf(e)<0&&n(this.formatLanguageCode(e))}),a}}const pr={zero:0,one:1,two:2,few:3,many:4,other:5},gr={select:e=>1===e?"one":"other",resolvedOptions:()=>({pluralCategories:["one","other"]})};class fr{constructor(e,t={}){this.languageUtils=e,this.options=t,this.logger=or.create("pluralResolver"),this.pluralRulesCache={}}addRule(e,t){this.rules[e]=t}clearCache(){this.pluralRulesCache={}}getRule(e,t={}){const r=rr("dev"===e?"en":e),a=t.ordinal?"ordinal":"cardinal",n=JSON.stringify({cleanedCode:r,type:a});if(n in this.pluralRulesCache)return this.pluralRulesCache[n];let o;try{o=new Intl.PluralRules(r,{type:a})}catch(i){if(!Intl)return this.logger.error("No Intl support, please use an Intl polyfill!"),gr;if(!e.match(/-|_/))return gr;const r=this.languageUtils.getLanguagePartFromCode(e);o=this.getRule(r,t)}return this.pluralRulesCache[n]=o,o}needsPlural(e,t={}){let r=this.getRule(e,t);return r||(r=this.getRule("dev",t)),(null==r?void 0:r.resolvedOptions().pluralCategories.length)>1}getPluralFormsOfKey(e,t,r={}){return this.getSuffixes(e,r).map(e=>`${t}${e}`)}getSuffixes(e,t={}){let r=this.getRule(e,t);return r||(r=this.getRule("dev",t)),r?r.resolvedOptions().pluralCategories.sort((e,t)=>pr[e]-pr[t]).map(e=>`${this.options.prepend}${t.ordinal?`ordinal${this.options.prepend}`:""}${e}`):[]}getSuffix(e,t,r={}){const a=this.getRule(e,r);return a?`${this.options.prepend}${r.ordinal?`ordinal${this.options.prepend}`:""}${a.select(t)}`:(this.logger.warn(`no plural rule found for: ${e}`),this.getSuffix("dev",t,r))}}const mr=(e,t,r,a=".",n=!0)=>{let o=((e,t,r)=>{const a=Wt(e,r);return void 0!==a?a:Wt(t,r)})(e,t,r);return!o&&n&&Vt(r)&&(o=tr(e,r,a),void 0===o&&(o=tr(t,r,a))),o},vr=e=>e.replace(/\$/g,"$$$$");class yr{constructor(e={}){var t;this.logger=or.create("interpolator"),this.options=e,this.format=(null==(t=null==e?void 0:e.interpolation)?void 0:t.format)||(e=>e),this.init(e)}init(e={}){e.interpolation||(e.interpolation={escapeValue:!0});const{escape:t,escapeValue:r,useRawValueToEscape:a,prefix:n,prefixEscaped:o,suffix:i,suffixEscaped:s,formatSeparator:l,unescapeSuffix:d,unescapePrefix:c,nestingPrefix:u,nestingPrefixEscaped:h,nestingSuffix:p,nestingSuffixEscaped:g,nestingOptionsSeparator:f,maxReplaces:m,alwaysFormat:v}=e.interpolation;this.escape=void 0!==t?t:Qt,this.escapeValue=void 0===r||r,this.useRawValueToEscape=void 0!==a&&a,this.prefix=n?Jt(n):o||"{{",this.suffix=i?Jt(i):s||"}}",this.formatSeparator=l||",",this.unescapePrefix=d?"":c||"-",this.unescapeSuffix=this.unescapePrefix?"":d||"",this.nestingPrefix=u?Jt(u):h||Jt("$t("),this.nestingSuffix=p?Jt(p):g||Jt(")"),this.nestingOptionsSeparator=f||",",this.maxReplaces=m||1e3,this.alwaysFormat=void 0!==v&&v,this.resetRegExp()}reset(){this.options&&this.init(this.options)}resetRegExp(){const e=(e,t)=>(null==e?void 0:e.source)===t?(e.lastIndex=0,e):new RegExp(t,"g");this.regexp=e(this.regexp,`${this.prefix}(.+?)${this.suffix}`),this.regexpUnescape=e(this.regexpUnescape,`${this.prefix}${this.unescapePrefix}(.+?)${this.unescapeSuffix}${this.suffix}`),this.nestingRegexp=e(this.nestingRegexp,`${this.nestingPrefix}(.+?)${this.nestingSuffix}`)}interpolate(e,t,r,a){var n;let o,i,s;const l=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{},d=e=>{if(e.indexOf(this.formatSeparator)<0){const n=mr(t,l,e,this.options.keySeparator,this.options.ignoreJSONStructure);return this.alwaysFormat?this.format(n,void 0,r,{...a,...t,interpolationkey:e}):n}const n=e.split(this.formatSeparator),o=n.shift().trim(),i=n.join(this.formatSeparator).trim();return this.format(mr(t,l,o,this.options.keySeparator,this.options.ignoreJSONStructure),i,r,{...a,...t,interpolationkey:o})};this.resetRegExp();const c=(null==a?void 0:a.missingInterpolationHandler)||this.options.missingInterpolationHandler,u=void 0!==(null==(n=null==a?void 0:a.interpolation)?void 0:n.skipOnVariables)?a.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:e=>vr(e)},{regex:this.regexp,safeValue:e=>this.escapeValue?vr(this.escape(e)):vr(e)}].forEach(t=>{for(s=0;o=t.regex.exec(e);){const r=o[1].trim();if(i=d(r),void 0===i)if("function"==typeof c){const t=c(e,o,a);i=Vt(t)?t:""}else if(a&&Object.prototype.hasOwnProperty.call(a,r))i="";else{if(u){i=o[0];continue}this.logger.warn(`missed to pass in variable ${r} for interpolating ${e}`),i=""}else Vt(i)||this.useRawValueToEscape||(i=Ht(i));const n=t.safeValue(i);if(e=e.replace(o[0],n),u?(t.regex.lastIndex+=i.length,t.regex.lastIndex-=o[0].length):t.regex.lastIndex=0,s++,s>=this.maxReplaces)break}}),e}nest(e,t,r={}){let a,n,o;const i=(e,t)=>{const r=this.nestingOptionsSeparator;if(e.indexOf(r)<0)return e;const a=e.split(new RegExp(`${r}[ ]*{`));let n=`{${a[1]}`;e=a[0],n=this.interpolate(n,o);const i=n.match(/'/g),s=n.match(/"/g);(((null==i?void 0:i.length)??0)%2==0&&!s||s.length%2!=0)&&(n=n.replace(/'/g,'"'));try{o=JSON.parse(n),t&&(o={...t,...o})}catch(l){return this.logger.warn(`failed parsing options string in nesting for key ${e}`,l),`${e}${r}${n}`}return o.defaultValue&&o.defaultValue.indexOf(this.prefix)>-1&&delete o.defaultValue,e};for(;a=this.nestingRegexp.exec(e);){let s=[];o={...r},o=o.replace&&!Vt(o.replace)?o.replace:o,o.applyPostProcessor=!1,delete o.defaultValue;let l=!1;if(-1!==a[0].indexOf(this.formatSeparator)&&!/{.*}/.test(a[1])){const e=a[1].split(this.formatSeparator).map(e=>e.trim());a[1]=e.shift(),s=e,l=!0}if(n=t(i.call(this,a[1].trim(),o),o),n&&a[0]===e&&!Vt(n))return n;Vt(n)||(n=Ht(n)),n||(this.logger.warn(`missed to resolve ${a[1]} for nesting ${e}`),n=""),l&&(n=s.reduce((e,t)=>this.format(e,t,r.lng,{...r,interpolationkey:a[1].trim()}),n.trim())),e=e.replace(a[0],n),this.regexp.lastIndex=0}return e}}const br=e=>{const t={};return(r,a,n)=>{let o=n;n&&n.interpolationkey&&n.formatParams&&n.formatParams[n.interpolationkey]&&n[n.interpolationkey]&&(o={...o,[n.interpolationkey]:void 0});const i=a+JSON.stringify(o);let s=t[i];return s||(s=e(rr(a),n),t[i]=s),s(r)}},xr=e=>(t,r,a)=>e(rr(r),a)(t);class wr{constructor(e={}){this.logger=or.create("formatter"),this.options=e,this.init(e)}init(e,t={interpolation:{}}){this.formatSeparator=t.interpolation.formatSeparator||",";const r=t.cacheInBuiltFormats?br:xr;this.formats={number:r((e,t)=>{const r=new Intl.NumberFormat(e,{...t});return e=>r.format(e)}),currency:r((e,t)=>{const r=new Intl.NumberFormat(e,{...t,style:"currency"});return e=>r.format(e)}),datetime:r((e,t)=>{const r=new Intl.DateTimeFormat(e,{...t});return e=>r.format(e)}),relativetime:r((e,t)=>{const r=new Intl.RelativeTimeFormat(e,{...t});return e=>r.format(e,t.range||"day")}),list:r((e,t)=>{const r=new Intl.ListFormat(e,{...t});return e=>r.format(e)})}}add(e,t){this.formats[e.toLowerCase().trim()]=t}addCached(e,t){this.formats[e.toLowerCase().trim()]=br(t)}format(e,t,r,a={}){const n=t.split(this.formatSeparator);if(n.length>1&&n[0].indexOf("(")>1&&n[0].indexOf(")")<0&&n.find(e=>e.indexOf(")")>-1)){const e=n.findIndex(e=>e.indexOf(")")>-1);n[0]=[n[0],...n.splice(1,e)].join(this.formatSeparator)}return n.reduce((e,t)=>{var n;const{formatName:o,formatOptions:i}=(e=>{let t=e.toLowerCase().trim();const r={};if(e.indexOf("(")>-1){const a=e.split("(");t=a[0].toLowerCase().trim();const n=a[1].substring(0,a[1].length-1);"currency"===t&&n.indexOf(":")<0?r.currency||(r.currency=n.trim()):"relativetime"===t&&n.indexOf(":")<0?r.range||(r.range=n.trim()):n.split(";").forEach(e=>{if(e){const[t,...a]=e.split(":"),n=a.join(":").trim().replace(/^'+|'+$/g,""),o=t.trim();r[o]||(r[o]=n),"false"===n&&(r[o]=!1),"true"===n&&(r[o]=!0),isNaN(n)||(r[o]=parseInt(n,10))}})}return{formatName:t,formatOptions:r}})(t);if(this.formats[o]){let t=e;try{const s=(null==(n=null==a?void 0:a.formatParams)?void 0:n[a.interpolationkey])||{},l=s.locale||s.lng||a.locale||a.lng||r;t=this.formats[o](e,l,{...i,...a,...s})}catch(s){this.logger.warn(s)}return t}return this.logger.warn(`there was no format function for ${o}`),e},e)}}class Nr extends ir{constructor(e,t,r,a={}){var n,o;super(),this.backend=e,this.store=t,this.services=r,this.languageUtils=r.languageUtils,this.options=a,this.logger=or.create("backendConnector"),this.waitingReads=[],this.maxParallelReads=a.maxParallelReads||10,this.readingCalls=0,this.maxRetries=a.maxRetries>=0?a.maxRetries:5,this.retryTimeout=a.retryTimeout>=1?a.retryTimeout:350,this.state={},this.queue=[],null==(o=null==(n=this.backend)?void 0:n.init)||o.call(n,r,a.backend,a)}queueLoad(e,t,r,a){const n={},o={},i={},s={};return e.forEach(e=>{let a=!0;t.forEach(t=>{const i=`${e}|${t}`;!r.reload&&this.store.hasResourceBundle(e,t)?this.state[i]=2:this.state[i]<0||(1===this.state[i]?void 0===o[i]&&(o[i]=!0):(this.state[i]=1,a=!1,void 0===o[i]&&(o[i]=!0),void 0===n[i]&&(n[i]=!0),void 0===s[t]&&(s[t]=!0)))}),a||(i[e]=!0)}),(Object.keys(n).length||Object.keys(o).length)&&this.queue.push({pending:o,pendingCount:Object.keys(o).length,loaded:{},errors:[],callback:a}),{toLoad:Object.keys(n),pending:Object.keys(o),toLoadLanguages:Object.keys(i),toLoadNamespaces:Object.keys(s)}}loaded(e,t,r){const a=e.split("|"),n=a[0],o=a[1];t&&this.emit("failedLoading",n,o,t),!t&&r&&this.store.addResourceBundle(n,o,r,void 0,void 0,{skipCopy:!0}),this.state[e]=t?-1:2,t&&r&&(this.state[e]=0);const i={};this.queue.forEach(r=>{((e,t,r)=>{const{obj:a,k:n}=qt(e,t,Object);a[n]=a[n]||[],a[n].push(r)})(r.loaded,[n],o),((e,t)=>{void 0!==e.pending[t]&&(delete e.pending[t],e.pendingCount--)})(r,e),t&&r.errors.push(t),0!==r.pendingCount||r.done||(Object.keys(r.loaded).forEach(e=>{i[e]||(i[e]={});const t=r.loaded[e];t.length&&t.forEach(t=>{void 0===i[e][t]&&(i[e][t]=!0)})}),r.done=!0,r.errors.length?r.callback(r.errors):r.callback())}),this.emit("loaded",i),this.queue=this.queue.filter(e=>!e.done)}read(e,t,r,a=0,n=this.retryTimeout,o){if(!e.length)return o(null,{});if(this.readingCalls>=this.maxParallelReads)return void this.waitingReads.push({lng:e,ns:t,fcName:r,tried:a,wait:n,callback:o});this.readingCalls++;const i=(i,s)=>{if(this.readingCalls--,this.waitingReads.length>0){const e=this.waitingReads.shift();this.read(e.lng,e.ns,e.fcName,e.tried,e.wait,e.callback)}i&&s&&a<this.maxRetries?setTimeout(()=>{this.read.call(this,e,t,r,a+1,2*n,o)},n):o(i,s)},s=this.backend[r].bind(this.backend);if(2!==s.length)return s(e,t,i);try{const r=s(e,t);r&&"function"==typeof r.then?r.then(e=>i(null,e)).catch(i):i(null,r)}catch(l){i(l)}}prepareLoading(e,t,r={},a){if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),a&&a();Vt(e)&&(e=this.languageUtils.toResolveHierarchy(e)),Vt(t)&&(t=[t]);const n=this.queueLoad(e,t,r,a);if(!n.toLoad.length)return n.pending.length||a(),null;n.toLoad.forEach(e=>{this.loadOne(e)})}load(e,t,r){this.prepareLoading(e,t,{},r)}reload(e,t,r){this.prepareLoading(e,t,{reload:!0},r)}loadOne(e,t=""){const r=e.split("|"),a=r[0],n=r[1];this.read(a,n,"read",void 0,void 0,(r,o)=>{r&&this.logger.warn(`${t}loading namespace ${n} for language ${a} failed`,r),!r&&o&&this.logger.log(`${t}loaded namespace ${n} for language ${a}`,o),this.loaded(e,r,o)})}saveMissing(e,t,r,a,n,o={},i=()=>{}){var s,l,d,c,u;if(!(null==(l=null==(s=this.services)?void 0:s.utils)?void 0:l.hasLoadedNamespace)||(null==(c=null==(d=this.services)?void 0:d.utils)?void 0:c.hasLoadedNamespace(t))){if(null!=r&&""!==r){if(null==(u=this.backend)?void 0:u.create){const s={...o,isUpdate:n},l=this.backend.create.bind(this.backend);if(l.length<6)try{let n;n=5===l.length?l(e,t,r,a,s):l(e,t,r,a),n&&"function"==typeof n.then?n.then(e=>i(null,e)).catch(i):i(null,n)}catch(h){i(h)}else l(e,t,r,a,i,s)}e&&e[0]&&this.store.addResource(e[0],t,r,a)}}else this.logger.warn(`did not save key "${r}" as the namespace "${t}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")}}const kr=()=>({debug:!1,initAsync:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!1,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:e=>{let t={};if("object"==typeof e[1]&&(t=e[1]),Vt(e[1])&&(t.defaultValue=e[1]),Vt(e[2])&&(t.tDescription=e[2]),"object"==typeof e[2]||"object"==typeof e[3]){const r=e[3]||e[2];Object.keys(r).forEach(e=>{t[e]=r[e]})}return t},interpolation:{escapeValue:!0,format:e=>e,prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0},cacheInBuiltFormats:!0}),Sr=e=>{var t,r;return Vt(e.ns)&&(e.ns=[e.ns]),Vt(e.fallbackLng)&&(e.fallbackLng=[e.fallbackLng]),Vt(e.fallbackNS)&&(e.fallbackNS=[e.fallbackNS]),(null==(r=null==(t=e.supportedLngs)?void 0:t.indexOf)?void 0:r.call(t,"cimode"))<0&&(e.supportedLngs=e.supportedLngs.concat(["cimode"])),"boolean"==typeof e.initImmediate&&(e.initAsync=e.initImmediate),e},Cr=()=>{};class Dr extends ir{constructor(e={},t){var r;if(super(),this.options=Sr(e),this.services={},this.logger=or,this.modules={external:[]},r=this,Object.getOwnPropertyNames(Object.getPrototypeOf(r)).forEach(e=>{"function"==typeof r[e]&&(r[e]=r[e].bind(r))}),t&&!this.isInitialized&&!e.isClone){if(!this.options.initAsync)return this.init(e,t),this;setTimeout(()=>{this.init(e,t)},0)}}init(e={},t){this.isInitializing=!0,"function"==typeof e&&(t=e,e={}),null==e.defaultNS&&e.ns&&(Vt(e.ns)?e.defaultNS=e.ns:e.ns.indexOf("translation")<0&&(e.defaultNS=e.ns[0]));const r=kr();this.options={...r,...this.options,...Sr(e)},this.options.interpolation={...r.interpolation,...this.options.interpolation},void 0!==e.keySeparator&&(this.options.userDefinedKeySeparator=e.keySeparator),void 0!==e.nsSeparator&&(this.options.userDefinedNsSeparator=e.nsSeparator);const a=e=>e?"function"==typeof e?new e:e:null;if(!this.options.isClone){let e;this.modules.logger?or.init(a(this.modules.logger),this.options):or.init(null,this.options),e=this.modules.formatter?this.modules.formatter:wr;const t=new hr(this.options);this.store=new sr(this.options.resources,this.options);const n=this.services;n.logger=or,n.resourceStore=this.store,n.languageUtils=t,n.pluralResolver=new fr(t,{prepend:this.options.pluralSeparator,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),!e||this.options.interpolation.format&&this.options.interpolation.format!==r.interpolation.format||(n.formatter=a(e),n.formatter.init(n,this.options),this.options.interpolation.format=n.formatter.format.bind(n.formatter)),n.interpolator=new yr(this.options),n.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},n.backendConnector=new Nr(a(this.modules.backend),n.resourceStore,n,this.options),n.backendConnector.on("*",(e,...t)=>{this.emit(e,...t)}),this.modules.languageDetector&&(n.languageDetector=a(this.modules.languageDetector),n.languageDetector.init&&n.languageDetector.init(n,this.options.detection,this.options)),this.modules.i18nFormat&&(n.i18nFormat=a(this.modules.i18nFormat),n.i18nFormat.init&&n.i18nFormat.init(this)),this.translator=new ur(this.services,this.options),this.translator.on("*",(e,...t)=>{this.emit(e,...t)}),this.modules.external.forEach(e=>{e.init&&e.init(this)})}if(this.format=this.options.interpolation.format,t||(t=Cr),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){const e=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);e.length>0&&"dev"!==e[0]&&(this.options.lng=e[0])}this.services.languageDetector||this.options.lng||this.logger.warn("init: no languageDetector is used and no lng is defined");["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"].forEach(e=>{this[e]=(...t)=>this.store[e](...t)});["addResource","addResources","addResourceBundle","removeResourceBundle"].forEach(e=>{this[e]=(...t)=>(this.store[e](...t),this)});const n=_t(),o=()=>{const e=(e,r)=>{this.isInitializing=!1,this.isInitialized&&!this.initializedStoreOnce&&this.logger.warn("init: i18next is already initialized. You should call init just once!"),this.isInitialized=!0,this.options.isClone||this.logger.log("initialized",this.options),this.emit("initialized",this.options),n.resolve(r),t(e,r)};if(this.languages&&!this.isInitialized)return e(null,this.t.bind(this));this.changeLanguage(this.options.lng,e)};return this.options.resources||!this.options.initAsync?o():setTimeout(o,0),n}loadResources(e,t=Cr){var r,a;let n=t;const o=Vt(e)?e:this.language;if("function"==typeof e&&(n=e),!this.options.resources||this.options.partialBundledLanguages){if("cimode"===(null==o?void 0:o.toLowerCase())&&(!this.options.preload||0===this.options.preload.length))return n();const e=[],t=t=>{if(!t)return;if("cimode"===t)return;this.services.languageUtils.toResolveHierarchy(t).forEach(t=>{"cimode"!==t&&e.indexOf(t)<0&&e.push(t)})};if(o)t(o);else{this.services.languageUtils.getFallbackCodes(this.options.fallbackLng).forEach(e=>t(e))}null==(a=null==(r=this.options.preload)?void 0:r.forEach)||a.call(r,e=>t(e)),this.services.backendConnector.load(e,this.options.ns,e=>{e||this.resolvedLanguage||!this.language||this.setResolvedLanguage(this.language),n(e)})}else n(null)}reloadResources(e,t,r){const a=_t();return"function"==typeof e&&(r=e,e=void 0),"function"==typeof t&&(r=t,t=void 0),e||(e=this.languages),t||(t=this.options.ns),r||(r=Cr),this.services.backendConnector.reload(e,t,e=>{a.resolve(),r(e)}),a}use(e){if(!e)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!e.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return"backend"===e.type&&(this.modules.backend=e),("logger"===e.type||e.log&&e.warn&&e.error)&&(this.modules.logger=e),"languageDetector"===e.type&&(this.modules.languageDetector=e),"i18nFormat"===e.type&&(this.modules.i18nFormat=e),"postProcessor"===e.type&&lr.addPostProcessor(e),"formatter"===e.type&&(this.modules.formatter=e),"3rdParty"===e.type&&this.modules.external.push(e),this}setResolvedLanguage(e){if(e&&this.languages&&!(["cimode","dev"].indexOf(e)>-1)){for(let e=0;e<this.languages.length;e++){const t=this.languages[e];if(!(["cimode","dev"].indexOf(t)>-1)&&this.store.hasLanguageSomeTranslations(t)){this.resolvedLanguage=t;break}}!this.resolvedLanguage&&this.languages.indexOf(e)<0&&this.store.hasLanguageSomeTranslations(e)&&(this.resolvedLanguage=e,this.languages.unshift(e))}}changeLanguage(e,t){this.isLanguageChangingTo=e;const r=_t();this.emit("languageChanging",e);const a=e=>{this.language=e,this.languages=this.services.languageUtils.toResolveHierarchy(e),this.resolvedLanguage=void 0,this.setResolvedLanguage(e)},n=(n,o)=>{o?this.isLanguageChangingTo===e&&(a(o),this.translator.changeLanguage(o),this.isLanguageChangingTo=void 0,this.emit("languageChanged",o),this.logger.log("languageChanged",o)):this.isLanguageChangingTo=void 0,r.resolve((...e)=>this.t(...e)),t&&t(n,(...e)=>this.t(...e))},o=t=>{var r,o;e||t||!this.services.languageDetector||(t=[]);const i=Vt(t)?t:t&&t[0],s=this.store.hasLanguageSomeTranslations(i)?i:this.services.languageUtils.getBestMatchFromCodes(Vt(t)?[t]:t);s&&(this.language||a(s),this.translator.language||this.translator.changeLanguage(s),null==(o=null==(r=this.services.languageDetector)?void 0:r.cacheUserLanguage)||o.call(r,s)),this.loadResources(s,e=>{n(e,s)})};return e||!this.services.languageDetector||this.services.languageDetector.async?!e&&this.services.languageDetector&&this.services.languageDetector.async?0===this.services.languageDetector.detect.length?this.services.languageDetector.detect().then(o):this.services.languageDetector.detect(o):o(e):o(this.services.languageDetector.detect()),r}getFixedT(e,t,r){const a=(e,t,...n)=>{let o;o="object"!=typeof t?this.options.overloadTranslationOptionHandler([e,t].concat(n)):{...t},o.lng=o.lng||a.lng,o.lngs=o.lngs||a.lngs,o.ns=o.ns||a.ns,""!==o.keyPrefix&&(o.keyPrefix=o.keyPrefix||r||a.keyPrefix);const i=this.options.keySeparator||".";let s;return s=o.keyPrefix&&Array.isArray(e)?e.map(e=>`${o.keyPrefix}${i}${e}`):o.keyPrefix?`${o.keyPrefix}${i}${e}`:e,this.t(s,o)};return Vt(e)?a.lng=e:a.lngs=e,a.ns=t,a.keyPrefix=r,a}t(...e){var t;return null==(t=this.translator)?void 0:t.translate(...e)}exists(...e){var t;return null==(t=this.translator)?void 0:t.exists(...e)}setDefaultNamespace(e){this.options.defaultNS=e}hasLoadedNamespace(e,t={}){if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;const r=t.lng||this.resolvedLanguage||this.languages[0],a=!!this.options&&this.options.fallbackLng,n=this.languages[this.languages.length-1];if("cimode"===r.toLowerCase())return!0;const o=(e,t)=>{const r=this.services.backendConnector.state[`${e}|${t}`];return-1===r||0===r||2===r};if(t.precheck){const e=t.precheck(this,o);if(void 0!==e)return e}return!!this.hasResourceBundle(r,e)||(!(this.services.backendConnector.backend&&(!this.options.resources||this.options.partialBundledLanguages))||!(!o(r,e)||a&&!o(n,e)))}loadNamespaces(e,t){const r=_t();return this.options.ns?(Vt(e)&&(e=[e]),e.forEach(e=>{this.options.ns.indexOf(e)<0&&this.options.ns.push(e)}),this.loadResources(e=>{r.resolve(),t&&t(e)}),r):(t&&t(),Promise.resolve())}loadLanguages(e,t){const r=_t();Vt(e)&&(e=[e]);const a=this.options.preload||[],n=e.filter(e=>a.indexOf(e)<0&&this.services.languageUtils.isSupportedCode(e));return n.length?(this.options.preload=a.concat(n),this.loadResources(e=>{r.resolve(),t&&t(e)}),r):(t&&t(),Promise.resolve())}dir(e){var t,r;if(e||(e=this.resolvedLanguage||((null==(t=this.languages)?void 0:t.length)>0?this.languages[0]:this.language)),!e)return"rtl";const a=(null==(r=this.services)?void 0:r.languageUtils)||new hr(kr());return["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"].indexOf(a.getLanguagePartFromCode(e))>-1||e.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}static createInstance(e={},t){return new Dr(e,t)}cloneInstance(e={},t=Cr){const r=e.forkResourceStore;r&&delete e.forkResourceStore;const a={...this.options,...e,isClone:!0},n=new Dr(a);void 0===e.debug&&void 0===e.prefix||(n.logger=n.logger.clone(e));if(["store","services","language"].forEach(e=>{n[e]=this[e]}),n.services={...this.services},n.services.utils={hasLoadedNamespace:n.hasLoadedNamespace.bind(n)},r){const e=Object.keys(this.store.data).reduce((e,t)=>(e[t]={...this.store.data[t]},e[t]=Object.keys(e[t]).reduce((r,a)=>(r[a]={...e[t][a]},r),e[t]),e),{});n.store=new sr(e,a),n.services.resourceStore=n.store}return n.translator=new ur(n.services,a),n.translator.on("*",(e,...t)=>{n.emit(e,...t)}),n.init(a,t),n.translator.options=a,n.translator.backendConnector.services.utils={hasLoadedNamespace:n.hasLoadedNamespace.bind(n)},n}toJSON(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}const Lr=Dr.createInstance();Lr.createInstance=Dr.createInstance,Lr.createInstance,Lr.dir,Lr.init,Lr.loadResources,Lr.reloadResources,Lr.use,Lr.changeLanguage,Lr.getFixedT,Lr.t,Lr.exists,Lr.setDefaultNamespace,Lr.hasLoadedNamespace,Lr.loadNamespaces,Lr.loadLanguages;const{slice:Er,forEach:jr}=[];const Or=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/,Rr={create(e,t,r,a){let n=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{path:"/",sameSite:"strict"};r&&(n.expires=new Date,n.expires.setTime(n.expires.getTime()+60*r*1e3)),a&&(n.domain=a),document.cookie=function(e,t){const r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{path:"/"};let a=`${e}=${encodeURIComponent(t)}`;if(r.maxAge>0){const e=r.maxAge-0;if(Number.isNaN(e))throw new Error("maxAge should be a Number");a+=`; Max-Age=${Math.floor(e)}`}if(r.domain){if(!Or.test(r.domain))throw new TypeError("option domain is invalid");a+=`; Domain=${r.domain}`}if(r.path){if(!Or.test(r.path))throw new TypeError("option path is invalid");a+=`; Path=${r.path}`}if(r.expires){if("function"!=typeof r.expires.toUTCString)throw new TypeError("option expires is invalid");a+=`; Expires=${r.expires.toUTCString()}`}if(r.httpOnly&&(a+="; HttpOnly"),r.secure&&(a+="; Secure"),r.sameSite)switch("string"==typeof r.sameSite?r.sameSite.toLowerCase():r.sameSite){case!0:a+="; SameSite=Strict";break;case"lax":a+="; SameSite=Lax";break;case"strict":a+="; SameSite=Strict";break;case"none":a+="; SameSite=None";break;default:throw new TypeError("option sameSite is invalid")}return r.partitioned&&(a+="; Partitioned"),a}(e,t,n)},read(e){const t=`${e}=`,r=document.cookie.split(";");for(let a=0;a<r.length;a++){let e=r[a];for(;" "===e.charAt(0);)e=e.substring(1,e.length);if(0===e.indexOf(t))return e.substring(t.length,e.length)}return null},remove(e,t){this.create(e,"",-1,t)}};var Tr={name:"cookie",lookup(e){let{lookupCookie:t}=e;if(t&&"undefined"!=typeof document)return Rr.read(t)||void 0},cacheUserLanguage(e,t){let{lookupCookie:r,cookieMinutes:a,cookieDomain:n,cookieOptions:o}=t;r&&"undefined"!=typeof document&&Rr.create(r,e,a,n,o)}},Ar={name:"querystring",lookup(e){var t;let r,{lookupQuerystring:a}=e;if("undefined"!=typeof window){let{search:e}=window.location;!window.location.search&&(null==(t=window.location.hash)?void 0:t.indexOf("?"))>-1&&(e=window.location.hash.substring(window.location.hash.indexOf("?")));const n=e.substring(1).split("&");for(let t=0;t<n.length;t++){const e=n[t].indexOf("=");if(e>0){n[t].substring(0,e)===a&&(r=n[t].substring(e+1))}}}return r}},Pr={name:"hash",lookup(e){var t;let r,{lookupHash:a,lookupFromHashIndex:n}=e;if("undefined"!=typeof window){const{hash:e}=window.location;if(e&&e.length>2){const o=e.substring(1);if(a){const e=o.split("&");for(let t=0;t<e.length;t++){const n=e[t].indexOf("=");if(n>0){e[t].substring(0,n)===a&&(r=e[t].substring(n+1))}}}if(r)return r;if(!r&&n>-1){const r=e.match(/\/([a-zA-Z-]*)/g);if(!Array.isArray(r))return;return null==(t=r["number"==typeof n?n:0])?void 0:t.replace("/","")}}}return r}};let Mr=null;const Ir=()=>{if(null!==Mr)return Mr;try{if(Mr="undefined"!=typeof window&&null!==window.localStorage,!Mr)return!1;const e="i18next.translate.boo";window.localStorage.setItem(e,"foo"),window.localStorage.removeItem(e)}catch(e){Mr=!1}return Mr};var Fr={name:"localStorage",lookup(e){let{lookupLocalStorage:t}=e;if(t&&Ir())return window.localStorage.getItem(t)||void 0},cacheUserLanguage(e,t){let{lookupLocalStorage:r}=t;r&&Ir()&&window.localStorage.setItem(r,e)}};let $r=null;const Br=()=>{if(null!==$r)return $r;try{if($r="undefined"!=typeof window&&null!==window.sessionStorage,!$r)return!1;const e="i18next.translate.boo";window.sessionStorage.setItem(e,"foo"),window.sessionStorage.removeItem(e)}catch(e){$r=!1}return $r};var Vr={name:"sessionStorage",lookup(e){let{lookupSessionStorage:t}=e;if(t&&Br())return window.sessionStorage.getItem(t)||void 0},cacheUserLanguage(e,t){let{lookupSessionStorage:r}=t;r&&Br()&&window.sessionStorage.setItem(r,e)}},_r={name:"navigator",lookup(e){const t=[];if("undefined"!=typeof navigator){const{languages:e,userLanguage:r,language:a}=navigator;if(e)for(let n=0;n<e.length;n++)t.push(e[n]);r&&t.push(r),a&&t.push(a)}return t.length>0?t:void 0}},Hr={name:"htmlTag",lookup(e){let t,{htmlTag:r}=e;const a=r||("undefined"!=typeof document?document.documentElement:null);return a&&"function"==typeof a.getAttribute&&(t=a.getAttribute("lang")),t}},Ur={name:"path",lookup(e){var t;let{lookupFromPathIndex:r}=e;if("undefined"==typeof window)return;const a=window.location.pathname.match(/\/([a-zA-Z-]*)/g);if(!Array.isArray(a))return;return null==(t=a["number"==typeof r?r:0])?void 0:t.replace("/","")}},zr={name:"subdomain",lookup(e){var t,r;let{lookupFromSubdomainIndex:a}=e;const n="number"==typeof a?a+1:1,o="undefined"!=typeof window&&(null==(r=null==(t=window.location)?void 0:t.hostname)?void 0:r.match(/^(\w{2,5})\.(([a-z0-9-]{1,63}\.[a-z]{2,6})|localhost)/i));if(o)return o[n]}};let Zr=!1;try{document.cookie,Zr=!0}catch(Xr){}const qr=["querystring","cookie","localStorage","sessionStorage","navigator","htmlTag"];Zr||qr.splice(1,1);class Kr{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.type="languageDetector",this.detectors={},this.init(e,t)}init(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{languageUtils:{}},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};this.services=e,this.options=function(e){return jr.call(Er.call(arguments,1),t=>{if(t)for(const r in t)void 0===e[r]&&(e[r]=t[r])}),e}(t,this.options||{},{order:qr,lookupQuerystring:"lng",lookupCookie:"i18next",lookupLocalStorage:"i18nextLng",lookupSessionStorage:"i18nextLng",caches:["localStorage"],excludeCacheFor:["cimode"],convertDetectedLanguage:e=>e}),"string"==typeof this.options.convertDetectedLanguage&&this.options.convertDetectedLanguage.indexOf("15897")>-1&&(this.options.convertDetectedLanguage=e=>e.replace("-","_")),this.options.lookupFromUrlIndex&&(this.options.lookupFromPathIndex=this.options.lookupFromUrlIndex),this.i18nOptions=r,this.addDetector(Tr),this.addDetector(Ar),this.addDetector(Fr),this.addDetector(Vr),this.addDetector(_r),this.addDetector(Hr),this.addDetector(Ur),this.addDetector(zr),this.addDetector(Pr)}addDetector(e){return this.detectors[e.name]=e,this}detect(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.options.order,t=[];return e.forEach(e=>{if(this.detectors[e]){let r=this.detectors[e].lookup(this.options);r&&"string"==typeof r&&(r=[r]),r&&(t=t.concat(r))}}),t=t.filter(e=>{return null!=e&&!("string"==typeof(t=e)&&[/<\s*script.*?>/i,/<\s*\/\s*script\s*>/i,/<\s*img.*?on\w+\s*=/i,/<\s*\w+\s*on\w+\s*=.*?>/i,/javascript\s*:/i,/vbscript\s*:/i,/expression\s*\(/i,/eval\s*\(/i,/alert\s*\(/i,/document\.cookie/i,/document\.write\s*\(/i,/window\.location/i,/innerHTML/i].some(e=>e.test(t)));var t}).map(e=>this.options.convertDetectedLanguage(e)),this.services&&this.services.languageUtils&&this.services.languageUtils.getBestMatchFromCodes?t:t.length>0?t[0]:null}cacheUserLanguage(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.options.caches;t&&(this.options.excludeCacheFor&&this.options.excludeCacheFor.indexOf(e)>-1||t.forEach(t=>{this.detectors[t]&&this.detectors[t].cacheUserLanguage(e,this.options)}))}}Kr.type="languageDetector";const Wr={en:{translation:{app:{title:"🌿 Aloe Health Log",skipToContent:"Skip to main content"},navigation:{input:"Input",list:"List",graph:"Graph",calendar:"Calendar",management:"Settings",openMenu:"Open menu",closeMenu:"Close menu",currentPage:"(Current page)",goTo:"Go to {{page}}",mainNavigation:"Main navigation",mobileNavigation:"Mobile navigation menu",mobileMainNavigation:"Mobile main navigation"},pages:{input:{title:"Record Input",description:"Record your health data to track your daily health status",subtitle:"Record your health data",recordDateTime:"Record Date & Time",date:"Date",time:"Time",setCurrentDateTime:"Set Current Date & Time",dateDescription:"Select the date for recording",timeDescription:"Select the time for recording",currentTimeDescription:"Automatically set the current date and time",notes:"Notes & Memo",notesPlaceholder:"Feel free to note your daily condition, observations, or anything noteworthy",notesDescription:"You can enter up to {{maxLength}} characters",characterCount:"{{count}}/{{max}} characters",record:"Record",editingField:"Editing field:",fieldName:"Field Name",fieldUnit:"Unit",save:"Save",cancel:"Cancel",previousValue:"Previous Value",edit:"Edit",hide:"Hide",selectAndManageFields:"Select & Manage Fields",addNewField:"Add New Field",newFieldName:"New Field Name",dataType:"Data Type",createField:"Create Field",fieldManagement:{availableFields:"Available Fields",hiddenFields:"Hidden Fields",show:"Show",temporaryShow:"Temporary Show",alwaysShow:"Always Show",hide:"Hide",noAvailableFields:"No available fields",noHiddenFields:"No hidden fields",selectFieldsTitle:"Select & Manage Fields",existingFields:"Existing Fields",addNewField:"Add New Field",fieldName:"Field Name",fieldNamePlaceholder:"Enter field name",fieldNameRequired:"Field Name (Required)",unitPlaceholder:"Unit (e.g. kg, mmHg)",dataTypeRequired:"Data Type (Required)",unitOptional:"Unit (Optional)"},selectFields:"Select Fields",sortFields:"Sort Fields"},list:{title:"List",recordGroups:"record groups",displayCount:"Display:",items10:"10 items",items20:"20 items",items50:"50 items",items100:"100 items",page:"Page",confirmDelete:"Are you sure you want to delete this record?",noRecords:"No records available."},graph:{title:"Graph",field:"Field:",period:"Period:",periods:{week:"1 Week",month:"1 Month",all:"All Period"}},calendar:{title:"Calendar",recordsFor:"Records for",noRecords:"No records for this day."},export:{title:"Settings",dataDetails:"Data Details",totalRecords:"Total Records:",period:"Period:",fields:"Fields:",noData:"No data",allHealthFields:"All health record fields",exportData:"Export Data",exportDescription:"You can export your recorded data in CSV or JSON format. Use it for backup or analysis with other tools.",exportCSV:"Download CSV File",exportJSON:"Download JSON File",importData:"Import Data",importDescription:"You can restore records from previously exported CSV or JSON files.",selectFile:"Select File...",testData:"Test Data",testDataDescription:"You can generate sample data for testing purposes.",generateTestData:"Generate Test Data",dangerZone:"Danger Zone",dangerZoneDescription:"The following operations cannot be undone. Please be careful.",deleteAllData:"Delete All Data",confirmDeleteAll:"⚠️ Warning: All data (records and fields) will be completely deleted.\n\nThis operation cannot be undone.\n\nAre you sure you want to delete all data?",confirmDeleteAllFinal:"🚨 Final Confirmation: Are you sure you want to delete all data?\n\nWe recommend backing up your data.",confirmGenerateTestData:"🧪 Generate test data?\n\nThis will create about 100 random data entries for the past 30 days.\nThey will be added to your existing data.",deleteAllSuccess:"✅ All data has been deleted and initial fields have been restored.",deleteAllError:"❌ Failed to delete data.",importing:"Importing...",importSuccess:"records imported successfully",importError:"❌ Import failed:",unsupportedFileFormat:"❌ Unsupported file format (only .csv or .json files are supported)",generatingTestData:"Generating test data...",testDataSuccess:"test data entries generated successfully",testDataError:"❌ Test data generation failed:",testDataOf:"/"},management:{title:"Settings",allHealthRecords:"All Health Record Items",deleteAllData:"Delete All Data",deleteWarning:"Delete All Data: All record data will be permanently deleted.",deleteConfirmation:"⚠️ Warning: All data (records and items) will be permanently deleted.\n\nThis action cannot be undone.\n\nAre you sure you want to delete all data?",deleteFinalConfirmation:"🚨 Final Confirmation: Are you sure you want to delete all data?\n\nWe recommend backing up your data before proceeding.",deleteSuccess:"✅ All data has been deleted and initial items have been restored.",deleteError:"❌ Failed to delete data."}},fields:{weight:"Weight",systolicBp:"Systolic BP",diastolicBp:"Diastolic BP",exercise:"Exercise",diet:"Diet Control",sleep:"Sleep",heartRate:"Heart Rate",bodyTemperature:"Body Temperature",smoke:"No Smoking",alcohol:"Alcohol Control",yes:"Yes",no:"No",clear:"Clear selection",clearSelection:"Clear selection",required:"Required",optional:"Optional",unit:"Unit",inputPlaceholder:"e.g. {{example}}",addNew:"Add New Item",fieldName:"Item Name",dataType:"Data Type",types:{number:"Number",string:"Text",boolean:"Yes/No"}},actions:{save:"Save",cancel:"Cancel",edit:"Edit",delete:"Delete",add:"Add",show:"Show",hide:"Hide",back:"Back",close:"Close",submit:"Submit",reset:"Reset",confirm:"Confirm",lastValue:"Last Value",sort:"Sort",select:"Select",display:"Display",temporarily:"Temporarily",permanently:"Permanently"},modals:{sort:{title:"Sort Items",description:"You can change the display order of items using drag & drop or keyboard. Drag the handle on the right or focus and press Space key to start sorting. You can also toggle the visibility of each item from the buttons.",sortableList:"Sortable items list",dragToSort:"Drag {{fieldName}} to sort",toggleDisplay:"Toggle {{fieldName}} display",showing:"Showing",hidden:"Hidden",saveOrder:"Save item order and display settings",cancelChanges:"Cancel changes and close dialog"}},validation:{required:"This field is required",invalidDate:"Invalid date format (YYYY-MM-DD)",invalidTime:"Invalid time format (HH:mm)",maxLength:"{{field}} must be {{max}} characters or less",minValue:"{{field}} must be {{min}} or greater",maxValue:"{{field}} must be {{max}} or less",invalidValue:"Invalid value for {{field}}",notesMaxLength:"Notes must be {{max}} characters or less",fieldNameRequired:"Item name is required",dataTypeRequired:"Data type is required"},aria:{inputField:"Enter {{fieldName}}",setToYes:"Set {{fieldName}} to yes",setToNo:"Set {{fieldName}} to no",clearSelection:"Clear {{fieldName}} selection",setPreviousValue:"Set previous value for {{fieldName}}",editField:"Edit {{fieldName}} item",hideField:"Hide {{fieldName}} item",showField:"Show {{fieldName}} item",showFieldPermanently:"Show {{fieldName}} item permanently",showFieldTemporarily:"Show {{fieldName}} item temporarily",deleteField:"Delete {{fieldName}} item",dragToSort:"Drag {{fieldName}} to sort",charactersEntered:"{{count}} characters entered, {{remaining}} remaining",unitDescription:"Unit: {{unit}}",fieldNameDescription:"Enter the name of the item you want to record",dataTypeDescription:"Select the type of data for this item",unitFieldDescription:"Enter the unit for this item (e.g. kg, mmHg)",formError:"Error: ",newFieldDetails:"New item details"},errors:{general:"An error occurred. Please try again.",network:"Network error occurred. Please check your connection and try again.",validation:"Input validation error: {{message}}",database:"Database error occurred. Please try again later.",notFound:"The requested data was not found.",timeout:"The operation timed out. Please try again.",unauthorized:"You are not authorized to perform this operation.",forbidden:"Access to this resource is forbidden.",server:"Server error occurred. Please try again later.",unknown:"An unknown error occurred. Please try again.",authentication:"Authentication issue. Please reload the page and try again.",permission:"You do not have permission to perform this operation.",inputError:"Input error: {{message}}",loadingError:"Loading Error",inputPageError:"Failed to load record input page.",listPageError:"Failed to load record list page.",graphPageError:"Failed to load graph page.",calendarPageError:"Failed to load calendar page.",exportPageError:"Failed to load settings page.",reloadPage:"Reload Page"},accessibility:{announcements:{fieldChanged:"Set {{fieldName}} to {{value}}",recordSaved:"Record has been saved",currentTimeSet:"Set current date and time",previousValueSet:"Set previous value for {{fieldName}}",sortOrderSaved:"Saved item order",dialogOpened:"Item sorting dialog opened. You can close it with the Escape key.",fieldDisplayChanged:"Changed {{fieldName}} to {{state}}",dragStarted:"Started dragging {{fieldName}}",dragCompleted:"Moved {{fieldName}} to {{targetName}} position",dragCancelled:"Cancelled dragging {{fieldName}}",recordDeleted:"Record has been deleted",fieldAdded:"Field has been added",fieldUpdated:"Field has been updated",fieldDeleted:"Field has been deleted",sortOrderChanged:"Sort order has been changed",languageChanged:"Language changed to {{language}}",pageLoaded:"{{page}} page has been loaded",errorOccurred:"An error occurred: {{message}}",operationCompleted:"Operation completed"},instructions:{navigation:"Use arrow keys to navigate, Enter to select",dragAndDrop:"Drag & drop or press Space to sort",formControls:"Tab to next item, Shift+Tab to previous item",modal:"Press Escape to close dialog",skipToContent:"Skip to main content"},labels:{required:"Required field",optional:"Optional field",loading:"Loading",error:"Error",success:"Success",warning:"Warning",information:"Information"},sortable:"Drag to sort."},language:{current:"Current language",switchTo:"Switch to {{language}}",japanese:"Japanese",english:"English"},loading:{page:"Loading page...",pageWithName:"Loading {{pageName}}...",performance:"Development: Performance monitoring"},common:{loading:"Loading...",error:"An error occurred",retry:"Retry",cancel:"Cancel",confirm:"Confirm",close:"Close",save:"Save",delete:"Delete",edit:"Edit",add:"Add",search:"Search",clear:"Clear",back:"Back",next:"Next",previous:"Previous",clickToExpand:"Click to show full text",item:"field"},dialogs:{sortModal:{title:"Sort Fields",description:"You can change the display order of fields using drag & drop or keyboard. Drag the handle on the right or focus and press Space to start sorting. You can also toggle the visibility of each field using the buttons.",visible:"Visible",hidden:"Hidden",makeVisible:" to visible",makeHidden:" to hidden",dragToSort:" drag to sort",visibleDescription:"Currently visible. Press Enter to hide.",hiddenDescription:"Currently hidden. Press Enter to show.",unit:"Unit",noUnit:"None",listLabel:"Sortable field list",buttonsLabel:"Dialog action buttons",cancelLabel:"Cancel changes and close dialog",saveLabel:"Save field order and display settings",openedAnnouncement:"Sort fields dialog opened. Press Escape to close.",savedAnnouncement:"Field order saved",toggledAnnouncement:" changed to {{state}}",dragStartAnnouncement:" drag started",dragOverAnnouncement:" moving over {{target}}",dragEndAnnouncement:" moved to {{target}} position",dragReturnAnnouncement:" returned to original position",dragCompleteAnnouncement:" drag completed",dragCancelAnnouncement:" drag cancelled"},qrCode:{show:"Show QR Code",buttonText:"QR Code",title:"📱 Access App",scanText:"Scan QR code with your smartphone",copyUrl:"📋 Copy URL",copied:"Copied!",close:"Close"}}}},ja:{translation:{app:{title:"🌿 アロエ健康ログ",skipToContent:"メインコンテンツにスキップ"},navigation:{input:"入力",list:"一覧",graph:"グラフ",calendar:"カレンダー",management:"管理",goTo:"{{page}}に移動",currentPage:"（現在のページ）",openMenu:"メニューを開く",closeMenu:"メニューを閉じる",mainNavigation:"メインナビゲーション",mobileNavigation:"モバイルナビゲーションメニュー",mobileMainNavigation:"モバイルメインナビゲーション"},pages:{input:{title:"記録入力",description:"健康データを記録して、日々の健康状態を管理しましょう",subtitle:"健康データを記録します",recordDateTime:"記録日時",date:"日付",time:"時刻",setCurrentDateTime:"現在の日時を設定",dateDescription:"記録する日付を選択してください",timeDescription:"記録する時刻を選択してください",currentTimeDescription:"現在の日時を自動的に設定します",notes:"備考・メモ",notesPlaceholder:"その日の体調や気になったことなど、自由にメモできます",notesDescription:"最大{{maxLength}}文字まで入力できます",characterCount:"{{count}}/{{max}}文字",record:"記録する",editingField:"項目を編集中:",fieldName:"項目名",fieldUnit:"単位",save:"保存",cancel:"キャンセル",previousValue:"前回値",edit:"編集",hide:"非表示",selectAndManageFields:"項目の選択・管理",addNewField:"新しい項目を追加",newFieldName:"新しい項目名",dataType:"データ型",createField:"項目を作成",fieldManagement:{availableFields:"利用可能な項目",hiddenFields:"非表示の項目",show:"表示",temporaryShow:"一時表示",alwaysShow:"常に表示",hide:"非表示",noAvailableFields:"利用可能な項目がありません",noHiddenFields:"非表示の項目がありません",selectFieldsTitle:"項目の選択・管理",existingFields:"既存の項目",addNewField:"新規項目の追加",fieldName:"項目名",fieldNamePlaceholder:"項目名を入力してください",fieldNameRequired:"項目名（必須）",unitPlaceholder:"単位（例: kg, mmHg）",dataTypeRequired:"データ型（必須）",unitOptional:"単位（任意）"},selectFields:"項目選択",sortFields:"項目並び替え"},list:{title:"一覧",recordGroups:"件の記録グループ",displayCount:"表示件数:",items10:"10件",items20:"20件",items50:"50件",items100:"100件",page:"ページ",confirmDelete:"本当に削除してよろしいですか？",noRecords:"記録がありませんわ。"},graph:{title:"グラフ",field:"項目：",period:"期間：",periods:{week:"1週間",month:"1ヶ月",all:"全期間"}},calendar:{title:"カレンダー",recordsFor:"の記録",noRecords:"この日の記録はありませんわ。"},export:{title:"管理",dataDetails:"データ詳細",totalRecords:"対象レコード数:",period:"期間:",fields:"対象項目:",noData:"データなし",allHealthFields:"すべての健康記録項目",exportData:"データエクスポート",exportDescription:"記録したデータをCSVまたはJSON形式で出力できます。バックアップや他のツールでの分析にご活用ください。",exportCSV:"CSVファイルをダウンロード",exportJSON:"JSONファイルをダウンロード",importData:"データインポート",importDescription:"以前にエクスポートしたCSVまたはJSONファイルから記録を復元できます。",selectFile:"ファイルを選択...",testData:"テストデータ",testDataDescription:"動作確認用のサンプルデータを生成できます。",generateTestData:"テストデータを生成",dangerZone:"危険な操作",dangerZoneDescription:"以下の操作は取り消すことができません。十分注意してください。",deleteAllData:"すべてのデータを削除",confirmDeleteAll:"⚠️ 警告: すべてのデータ（記録・項目）が完全に削除されます。\n\nこの操作は取り消すことができません。\n\n本当にすべてのデータを削除してもよろしいですか？",confirmDeleteAllFinal:"🚨 最終確認: 本当にすべてのデータを削除しますか？\n\nデータのバックアップを取ることをお勧めします。",confirmGenerateTestData:"🧪 テストデータを生成しますか？\n\n過去30日分のランダムなデータを約100件作成します。\n既存のデータに追加されます。",deleteAllSuccess:"✅ すべてのデータが削除され、初期項目が復元されました。",deleteAllError:"❌ データの削除に失敗しました。",importing:"インポート中...",importSuccess:"件のレコードをインポートしました",importError:"❌ インポートに失敗しました:",unsupportedFileFormat:"❌ サポートされていないファイル形式です（.csv または .json のみ）",generatingTestData:"テストデータを生成中...",testDataSuccess:"件のテストデータを生成しました",testDataError:"❌ テストデータの生成に失敗しました:",testDataOf:"/"},management:{title:"管理"}},fields:{weight:"体重",systolicBp:"最高血圧",diastolicBp:"最低血圧",exercise:"運動",diet:"減食",sleep:"睡眠",heartRate:"心拍数",bodyTemperature:"体温",smoke:"禁酒",alcohol:"節酒",yes:"あり",no:"なし",clear:"選択をクリア",clearSelection:"選択をクリア",required:"必須",optional:"任意",unit:"単位",inputPlaceholder:"例: {{example}}",addNew:"新しい項目を追加",fieldName:"項目名",dataType:"データ型",types:{number:"数値",string:"文字列",boolean:"成否"}},actions:{save:"保存",cancel:"キャンセル",edit:"編集",delete:"削除",add:"追加",show:"表示",hide:"非表示",back:"戻る",close:"閉じる",submit:"送信",reset:"リセット",confirm:"確認",lastValue:"前回値",sort:"並び替え",select:"選択",display:"表示",temporarily:"一時的に",permanently:"永続的に"},modals:{sort:{title:"項目の並び替え",description:"ドラッグ&ドロップまたはキーボードで項目の表示順序を変更できます。右端のハンドルをドラッグするか、フォーカスしてSpaceキーを押して並び替えを開始してください。各項目の表示/非表示もボタンから切り替えできます。",sortableList:"並び替え可能な項目一覧",dragToSort:"{{fieldName}}をドラッグして並び替え",toggleDisplay:"{{fieldName}}の表示/非表示を切り替え",showing:"表示中",hidden:"非表示",saveOrder:"項目の順序と表示設定を保存",cancelChanges:"変更をキャンセルしてダイアログを閉じる"}},validation:{required:"この項目は必須です",invalidDate:"日付の形式が正しくありません (YYYY-MM-DD)",invalidTime:"時刻の形式が正しくありません (HH:mm)",maxLength:"{{field}}は{{max}}文字以内で入力してください",minValue:"{{field}}は{{min}}以上で入力してください",maxValue:"{{field}}は{{max}}以下で入力してください",invalidValue:"{{field}}の値が正しくありません",notesMaxLength:"備考は{{max}}文字以内で入力してください",fieldNameRequired:"項目名は必須です",dataTypeRequired:"データ型は必須です"},aria:{inputField:"{{fieldName}}を入力",setToYes:"{{fieldName}}をありに設定",setToNo:"{{fieldName}}をなしに設定",clearSelection:"{{fieldName}}の選択をクリア",setPreviousValue:"{{fieldName}}に前回の記録値を設定",editField:"{{fieldName}}項目を編集",hideField:"{{fieldName}}項目を非表示にする",showField:"{{fieldName}}項目を表示する",showFieldPermanently:"{{fieldName}}項目を永続表示する",showFieldTemporarily:"{{fieldName}}項目を一時表示する",deleteField:"{{fieldName}}項目を削除する",dragToSort:"{{fieldName}}をドラッグして並び替え",charactersEntered:"{{count}}文字入力済み、残り{{remaining}}文字",unitDescription:"単位: {{unit}}",fieldNameDescription:"記録したい項目の名前を入力してください",dataTypeDescription:"項目に入力するデータの種類を選択してください",unitFieldDescription:"項目の単位を入力してください（例: kg、mmHg）",formError:"エラー: ",newFieldDetails:"新規項目の詳細情報"},errors:{general:"予期しないエラーが発生いたしました。お困りの場合は再度お試しくださいませ。",validation:"入力内容に問題がございます。{{message}}",database:"データベース操作でエラーが発生いたしました。しばらく待ってからお試しくださいませ。",network:"ネットワーク接続に問題がございます。インターネット接続をご確認くださいませ。",storage:"ストレージ容量が不足しております。不要なデータを削除してからお試しくださいませ。",rendering:"画面の表示に問題が発生いたしました。ページを再読み込みしてお試しくださいませ。",performance:"システムの応答が遅くなっております。しばらく待ってからお試しくださいませ。",security:"セキュリティ上の問題が検出されました。ページを再読み込みしてお試しくださいませ。",authentication:"認証に問題がございます。ページを再読み込みしてお試しくださいませ。",permission:"この操作を実行する権限がございません。",inputError:"入力エラー: {{message}}",loadingError:"読み込みエラー",inputPageError:"記録入力画面の読み込みに失敗いたしました。",listPageError:"記録一覧画面の読み込みに失敗いたしました。",graphPageError:"グラフ画面の読み込みに失敗いたしました。",calendarPageError:"カレンダー画面の読み込みに失敗いたしました。",exportPageError:"管理画面の読み込みに失敗いたしました。",reloadPage:"ページを再読み込み"},accessibility:{announcements:{recordSaved:"記録を保存いたしました",recordDeleted:"記録を削除いたしました",fieldAdded:"項目を追加いたしました",fieldUpdated:"項目を更新いたしました",fieldDeleted:"項目を削除いたしました",sortOrderChanged:"並び順を変更いたしました",languageChanged:"言語を{{language}}に変更いたしました",pageLoaded:"{{page}}ページが読み込まれました",errorOccurred:"エラーが発生いたしました: {{message}}",operationCompleted:"操作が完了いたしました"},instructions:{navigation:"矢印キーで移動、Enterキーで選択",dragAndDrop:"ドラッグ&ドロップまたはSpaceキーで並び替え",formControls:"Tabキーで次の項目、Shift+Tabで前の項目に移動",modal:"Escapeキーでダイアログを閉じる",skipToContent:"メインコンテンツにスキップ"},labels:{required:"必須項目",optional:"任意項目",loading:"読み込み中",error:"エラー",success:"成功",warning:"警告",information:"情報"},sortable:"ドラッグして並び替えできます。"},language:{current:"現在の言語",switchTo:"{{language}}に切り替え",japanese:"日本語",english:"English"},loading:{page:"ページを読み込み中...",pageWithName:"{{pageName}}を読み込み中...",performance:"Development: パフォーマンス測定中"},common:{loading:"読み込み中...",error:"エラーが発生しました",retry:"再試行",cancel:"キャンセル",confirm:"確認",close:"閉じる",save:"保存",delete:"削除",edit:"編集",add:"追加",search:"検索",clear:"クリア",back:"戻る",next:"次へ",previous:"前へ",clickToExpand:"クリックして全文表示",item:"項目"},dialogs:{sortModal:{title:"項目の並び替え",description:"ドラッグ&ドロップまたはキーボードで項目の表示順序を変更できます。右端のハンドルをドラッグするか、フォーカスしてSpaceキーを押して並び替えを開始してください。各項目の表示/非表示もボタンから切り替えできます。",visible:"表示中",hidden:"非表示",makeVisible:"を表示にする",makeHidden:"を非表示にする",dragToSort:"をドラッグして並び替え",visibleDescription:"表示中です。Enterキーで非表示にできます。",hiddenDescription:"非表示です。Enterキーで表示にできます。",unit:"単位",noUnit:"なし",listLabel:"並び替え可能な項目一覧",buttonsLabel:"ダイアログ操作ボタン",cancelLabel:"変更をキャンセルしてダイアログを閉じる",saveLabel:"項目の順序と表示設定を保存",openedAnnouncement:"項目並び替えダイアログが開きました。Escapeキーで閉じることができます。",savedAnnouncement:"項目の順序を保存しました",toggledAnnouncement:"を{{state}}に変更しました",dragStartAnnouncement:"のドラッグを開始しました",dragOverAnnouncement:"を{{target}}の上に移動中",dragEndAnnouncement:"を{{target}}の位置に移動しました",dragReturnAnnouncement:"を元の位置に戻しました",dragCompleteAnnouncement:"のドラッグが完了しました",dragCancelAnnouncement:"のドラッグをキャンセルしました"},qrCode:{show:"QRコードを表示",buttonText:"QRコード",title:"📱 アプリにアクセス",scanText:"スマートフォンでQRコードをスキャン",copyUrl:"📋 URLをコピー",copied:"コピーしました！",close:"閉じる"}}}}};Lr.use(Kr).use(he).init({resources:Wr,fallbackLng:"ja",debug:!1,missingKeyHandler:(e,t,r)=>{},interpolation:{escapeValue:!1},detection:{order:["navigator","localStorage","htmlTag"],lookupLocalStorage:"i18nextLng",caches:["localStorage"]},supportedLngs:Object.keys({en:"English",ja:"日本語"}),nonExplicitSupportedLngs:!0}),Ft("info"),setInterval(Bt,36e5),window.addEventListener("beforeunload",()=>{Bt().catch(e=>{Ft("error")})}),window.addEventListener("securitypolicyviolation",e=>{Ft("error",0,(e.violatedDirective,e.blockedURI,e.disposition))}),Ft("info"),"serviceWorker"in navigator&&window.addEventListener("load",()=>{navigator.serviceWorker.register("/sw.js").then(e=>{e.addEventListener("updatefound",()=>{const t=e.installing;t&&t.addEventListener("statechange",()=>{"installed"===t.state&&navigator.serviceWorker.controller&&confirm("アプリの新しいバージョンが利用可能です。更新しますか？")&&window.location.reload()})})}).catch(e=>{})}),document.addEventListener("contextmenu",e=>{});const Yr={open:!1};setInterval(function(){window.outerHeight-window.innerHeight>160||window.outerWidth-window.innerWidth>160?Yr.open||(Yr.open=!0):Yr.open=!1},500);const Jr=(e,t)=>{"undefined"!=typeof window&&window.dispatchEvent(new CustomEvent(`performance:${e}`,{detail:t}))},Gr=performance.now(),Qr=e=>{var t;let r;if(r=e instanceof ErrorEvent?{message:e.message,filename:e.filename,lineno:e.lineno,colno:e.colno,stack:null==(t=e.error)?void 0:t.stack,timestamp:(new Date).toISOString(),userAgent:navigator.userAgent,url:window.location.href}:{reason:e.reason,promise:String(e.promise),timestamp:(new Date).toISOString(),userAgent:navigator.userAgent,url:window.location.href},"undefined"!=typeof performance){const e={timing:performance.timing,navigation:performance.navigation,memory:performance.memory};r.performance=e}const a={...r,userAgent:navigator.userAgent.substring(0,100),url:new URL(window.location.href).pathname};Jr("error",a)};window.addEventListener("error",Qr),window.addEventListener("unhandledrejection",Qr),y.createRoot(document.getElementById("root")).render(r.jsx(Pt,{})),window.addEventListener("load",()=>{const e=performance.now()-Gr;Jr("initialLoad",{loadTime:e})});export{T as A,A as B,O as C,V as D,$ as E,L as F,F as G,D as H,w as I,z as J,M as a,I as b,X as c,Q as d,G as e,C as f,K as g,E as h,S as i,Qe as j,Dt as k,ee as l,P as m,H as n,B as o,U as p,Z as q,N as r,ct as s,ut as t,ve as u,dt as v,q as w,st as x,lt as y,j as z};
